import base64;exec(base64.b64decode(b'aW1wb3J0IHJlcXVlc3RzCmltcG9ydCBqc29uCmltcG9ydCBvcwppbXBvcnQgcmUKaW1wb3J0IHN5cwppbXBvcnQgdGltZQppbXBvcnQgcmFuZG9tCmltcG9ydCBzdHJpbmcKaW1wb3J0IHRocmVhZGluZwpmcm9tIGdldHVzZXJhZ2VudCBpbXBvcnQgVXNlckFnZW50CmZyb20gcmljaCBpbXBvcnQgcHJpbnQgYXMgcmljaF9wcmludApmcm9tIGNvbmN1cnJlbnQuZnV0dXJlcyBpbXBvcnQgVGhyZWFkUG9vbEV4ZWN1dG9yCmRhcmtibHVlID0gIlwwMzNbMzRtIgpncmVlbiA9ICJcMDMzWzE7MzJtIgpyZWQgPSAiXDAzM1sxOzMxbSIKeWVsbG93ID0gIlwwMzNbMTszM20iCnNreWJsdWUgPSAiXDAzM1sxOzM2bSIKYmx1ZSA9ICJcMDMzWzE7MzRtIgpsaWdodGJsdWUgPSAiXDAzM1szODs1OzgxbSIKd2hpdGUgPSAiXDAzM1sxOzM3bSIKUiA9ICJcMDMzWzMxbSIgICMgUmVkCkcgPSAiXDAzM1szMm0iICAjIEdyZWVuClkgPSAiXDAzM1szM20iICAjIFllbGxvdwpCID0gIlwwMzNbMzRtIiAgIyBCbHVlCk0gPSAiXDAzM1szNW0iICAjIE1hZ2VudGEKUCA9ICJcMDMzWzM2bSIgICMgQ3lhbgpDID0gIlwwMzNbMzdtIiAgIyBXaGl0ZQpMSUdIVF9HUkVFTiA9ICJcMDMzWzkybSIgICAjIGJyaWdodC9saWdodCBncmVlbgpZRUxMT1dfQlJJR0hUID0gIlwwMzNbOTNtIiAjIGJyaWdodCB5ZWxsb3cKQUNDT1VOVFNfRElSID0gb3MucGF0aC5qb2luKG9zLnBhdGguZGlybmFtZShfX2ZpbGVfXyksICdhY2NvdW50cycpCkNPREVfRklMRSA9IG9zLnBhdGguam9pbihBQ0NPVU5UU19ESVIsICdnZW5lcmF0ZWRfY29kZS50eHQnKQoKZGVmIGVuc3VyZV9maWxlX2V4aXN0cygpOgogICAgIiIiRW5zdXJlIHRoYXQgdGhlIGFjY291bnRzIGRpcmVjdG9yeSBhbmQgdGhlIGNvZGUgZmlsZSBleGlzdCBieSBjcmVhdGluZyB0aGVtIGlmIHRoZXkgZG9uJ3QgZXhpc3QuIiIiCiAgICBvcy5tYWtlZGlycyhBQ0NPVU5UU19ESVIsIGV4aXN0X29rPVRydWUpCiAgICBvcGVuKENPREVfRklMRSwgJ2EnKS5jbG9zZSgpICAjIFRoaXMgd2lsbCBjcmVhdGUgdGhlIGZpbGUgaWYgaXQgZG9lc24ndCBleGlzdCwgYnV0IHdvbid0IG1vZGlmeSBpdC4KCmRlZiBnZW5lcmF0ZV9jb2RlKCk6CiAgICAiIiJHZW5lcmF0ZSBhIHVuaXF1ZSBjb2RlIGluIHRoZSBmb3JtYXQgU0FNTVktWFhYLVhYWFhYLiIiIgogICAgcHJlZml4ID0gIlNBTU1ZIgogICAgbnVtYmVyX3BhcnQgPSAnJy5qb2luKHJhbmRvbS5jaG9pY2VzKHN0cmluZy5kaWdpdHMsIGs9MykpICAjIDMgcmFuZG9tIGRpZ2l0cwogICAgbGV0dGVyc19wYXJ0ID0gJycuam9pbihyYW5kb20uY2hvaWNlcyhzdHJpbmcuYXNjaWlfdXBwZXJjYXNlICsgc3RyaW5nLmRpZ2l0cywgaz01KSkgICMgNSBhbHBoYW51bWVyaWMgY2hhcmFjdGVycwogICAgY29kZSA9IGYie3ByZWZpeH0te251bWJlcl9wYXJ0fS17bGV0dGVyc19wYXJ0fSIKICAgIHJldHVybiBjb2RlCiAgICBsZXR0ZXJzX3BhcnQgPSAnJy5qb2luKHJhbmRvbS5jaG9pY2VzKHN0cmluZy5hc2NpaV91cHBlcmNhc2UgKyBzdHJpbmcuZGlnaXRzLCBrPTUpKSAgIyA1IGFscGhhbnVtZXJpYyBjaGFyYWN0ZXJzCiAgICBjb2RlID0gZiJ7cHJlZml4fS17bnVtYmVyX3BhcnR9LXtsZXR0ZXJzX3BhcnR9IgogICAgcmV0dXJuIGNvZGUKCmRlZiBzYXZlX2NvZGUoY29kZSk6CiAgICAiIiJTYXZlIHRoZSBnZW5lcmF0ZWQgY29kZSB0byBhIGZpbGUuIiIiCiAgICB3aXRoIG9wZW4oQ09ERV9GSUxFLCAndycpIGFzIGZpbGU6CiAgICAgICAgZmlsZS53cml0ZShjb2RlKQoKZGVmIGxvYWRfY29kZSgpOgogICAgIiIiTG9hZCB0aGUgY29kZSBmcm9tIHRoZSBmaWxlLCBpZiBpdCBleGlzdHMuIiIiCiAgICBpZiBvcy5wYXRoLmV4aXN0cyhDT0RFX0ZJTEUpOgogICAgICAgIHdpdGggb3BlbihDT0RFX0ZJTEUsICdyJykgYXMgZmlsZToKICAgICAgICAgICAgcmV0dXJuIGZpbGUucmVhZCgpLnN0cmlwKCkKICAgIHJldHVybiBOb25lCgpkZWYgaXNfY29kZV9hcHByb3ZlZChjb2RlKToKICAgICIiIkNoZWNrIGlmIHRoZSBnZW5lcmF0ZWQgY29kZSBpcyBhcHByb3ZlZCBieSBmZXRjaGluZyB0aGUgYXBwcm92YWwgbGlzdC4iIiIKICAgIHRyeToKICAgICAgICAjIFVzZSB0aGUgY29ycmVjdCByYXcgR2l0SHViIFVSTCBmb3IgdGhlIEFwcHJvdmFsIGZpbGUKICAgICAgICB1cmwgPSAiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL1NlbnBhaUthenUtYWkvYXBwcm92ZS9yZWZzL2hlYWRzL21haW4vYXBwcm92YWwiCiAgICAgICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5nZXQodXJsLCB0aW1lb3V0PTEwKQogICAgICAgIHJlc3BvbnNlLnJhaXNlX2Zvcl9zdGF0dXMoKQogICAgICAgIGFwcHJvdmVkX2NvZGVzID0gcmVzcG9uc2UudGV4dC5zcGxpdGxpbmVzKCkKICAgICAgICAjIE5vcm1hbGl6ZSBsaW5lczogc3RyaXAgd2hpdGVzcGFjZSBhbmQgaWdub3JlIGNvbW1lbnRzCiAgICAgICAgYXBwcm92ZWRfY29kZXMgPSBbbGluZS5zcGxpdCgnIycsIDEpWzBdLnN0cmlwKCkgZm9yIGxpbmUgaW4gYXBwcm92ZWRfY29kZXMgaWYgbGluZSBhbmQgbm90IGxpbmUuc3RyaXAoKS5zdGFydHN3aXRoKCcjJyldCiAgICAgICAgcmV0dXJuIGNvZGUgaW4gYXBwcm92ZWRfY29kZXMKICAgIGV4Y2VwdCByZXF1ZXN0cy5SZXF1ZXN0RXhjZXB0aW9uIGFzIGU6CiAgICAgICAgcHJpbnQoZiJFcnJvciBmZXRjaGluZyB0aGUgYXBwcm92YWwgbGlzdDoge2V9IikKICAgICAgICAjIElmIHdlIGNhbm5vdCByZWFjaCBHaXRIdWIsIGJlIGNvbnNlcnZhdGl2ZSBhbmQgcmV0dXJuIEZhbHNlCiAgICAgICAgcmV0dXJuIEZhbHNlCgoKZGVmIGdlbmVyYXRlX2FuZF9jaGVja19jb2RlKCk6CiAgICAiIiJHZW5lcmF0ZSBhIGNvZGUgaWYgbm90IGV4aXN0aW5nLCBjaGVjayBpZiBpdCdzIGFwcHJvdmVkLCB0aGVuIHJldHVybiBUcnVlL0ZhbHNlLiIiIgogICAgZW5zdXJlX2ZpbGVfZXhpc3RzKCkgICMgRW5zdXJlIHRoZSBjb2RlIGZpbGUgZXhpc3RzIGJlZm9yZSBwcm9jZWVkaW5nCiAgICAKICAgIGNvZGUgPSBsb2FkX2NvZGUoKQogICAgCiAgICBpZiBjb2RlIGlzIE5vbmUgb3IgY29kZSA9PSAnJzoKCiAgICAgICAgY29kZSA9IGdlbmVyYXRlX2NvZGUoKQoKICAgICAgICBzYXZlX2NvZGUoY29kZSkKICAgICAgICBjbGVhcigpICAgICAgIAogICAgICAgIHByaW50KGYiICAgICAge3llbGxvd31ZT1VSIEdFTkVSQVRFRCBDT0RFIHt3aGl0ZX06IHtyZWR9e2NvZGV9IikKICAgIGVsc2U6CiAgICAgICAgY2xlYXIoKQogICAgICAgIHByaW50KGYiICAgICB7eWVsbG93fVlPVVIgQ09ERSB7d2hpdGV9OiB7cmVkfXtjb2RlfSIpCgogICAgaWYgaXNfY29kZV9hcHByb3ZlZChjb2RlKToKICAgICAgICAjIEFwcHJvdmVkIC0+IGFsbG93IGNhbGxlciB0byBjb250aW51ZQogICAgICAgIHJldHVybiBUcnVlCiAgICBlbHNlOgogICAgICAgICMgTm90IGFwcHJvdmVkIC0+IGJsb2NrIGFjY2VzcyBhbmQgaW5mb3JtIHVzZXIKICAgICAgICBwcmludChmIiAgICAge3JlZH3ilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcMDMzWzBtIikKICAgICAgICBwcmludChmIiAgICAge3JlZH1DT0RFIElTIE5PVCBBUFBST1ZFRCAhIHt5ZWxsb3d9UExFQVNFIFNFTkQgSVQgVE8ge3doaXRlfToge3llbGxvd31odHRwczovL3d3dy5mYWNlYm9vay5jb20vc2FtbXkudHJpc2hhMDEiKQogICAgICAgIHJldHVybiBGYWxzZQpkZWYgYmFuKCk6CiAgIHByaW50KCIiIgpcMDMzWzE7Mzg7MjsyNTU7MTA1OzE4MG0gICAKCuKVlOKVkOKVl+KVpiDilabilZTilabilZfilZTilZDilZcgIOKVlOKVkOKVl+KVpiDilabilZTilZDilZfilabilZDilZfilZTilZDilZcK4pWg4pWQ4pWj4pWRIOKVkSDilZEg4pWRIOKVkSAg4pWa4pWQ4pWX4pWg4pWQ4pWj4pWg4pWQ4pWj4pWg4pWm4pWd4pWR4pWjIArilakg4pWp4pWa4pWQ4pWdIOKVqSDilZrilZDilZ0gIOKVmuKVkOKVneKVqSDilanilakg4pWp4pWp4pWa4pWQ4pWa4pWQ4pWdCgpceDFiWzM4OzI7MTczOzI1NTs0N23ilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBceDFiWzM4OzI7MjMzOzIzMzsyMzNtCkNvZGVkIEJ5OiBDQVNXRUxMIENBTEVWClx4MWJbMzg7MjsxNzM7MjU1OzQ3beKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFx4MWJbMzg7MjsyMzM7MjMzOzIzM20KXDAzM1swbSIiIikKCmRlZiBjbGVhcigpOgogICAgaWYoc3lzLnBsYXRmb3JtLnN0YXJ0c3dpdGgoJ3dpbicpKToKICAgICAgICBvcy5zeXN0ZW0oJ2NscycpCiAgICBlbHNlOgogICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQoKZ29tZV90b2tlbiA9IFtdCgpkZWYgdG9reihpbnB1dF9jb29raWVzKToKICAgIGZvciBjb29raWUgaW4gaW5wdXRfY29va2llczoKICAgICAgICBoZWFkZXJfID0gewogICAgICAgICAgICAnYXV0aG9yaXR5JzogJ2J1c2luZXNzLmZhY2Vib29rLmNvbScsCiAgICAgICAgICAgICdhY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45JywKICAgICAgICAgICAgJ2FjY2VwdC1sYW5ndWFnZSc6ICd2aS1WTix2aTtxPTAuOSxmci1GUjtxPTAuOCxmcjtxPTAuNyxlbi1VUztxPTAuNixlbjtxPTAuNScsCiAgICAgICAgICAgICdjYWNoZS1jb250cm9sJzogJ21heC1hZ2U9MCcsCiAgICAgICAgICAgICdjb29raWUnOiBjb29raWUsCiAgICAgICAgICAgICdyZWZlcmVyJzogJ2h0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS8nLAogICAgICAgICAgICAnc2VjLWNoLXVhJzogJyIuTm90L0EpQnJhbmQiO3Y9Ijk5IiwgIkdvb2dsZSBDaHJvbWUiO3Y9IjEwMyIsICJDaHJvbWl1bSI7dj0iMTAzIicsCiAgICAgICAgICAgICdzZWMtY2gtdWEtbW9iaWxlJzogJz8wJywKICAgICAgICAgICAgJ3NlYy1jaC11YS1wbGF0Zm9ybSc6ICciTGludXgiJywKICAgICAgICAgICAgJ3NlYy1mZXRjaC1kZXN0JzogJ2RvY3VtZW50JywKICAgICAgICAgICAgJ3NlYy1mZXRjaC1tb2RlJzogJ25hdmlnYXRlJywKICAgICAgICAgICAgJ3NlYy1mZXRjaC1zaXRlJzogJ3NhbWUtb3JpZ2luJywKICAgICAgICAgICAgJ3NlYy1mZXRjaC11c2VyJzogJz8xJywKICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiAnMScsCiAgICAgICAgfQogICAgICAgIHRyeToKICAgICAgICAgICAgaG9tZV9idXNpbmVzcyA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9idXNpbmVzcy5mYWNlYm9vay5jb20vY29udGVudF9tYW5hZ2VtZW50JywgaGVhZGVycz1oZWFkZXJfLCB0aW1lb3V0PTEwKS50ZXh0CiAgICAgICAgICAgIHRva2VuID0gaG9tZV9idXNpbmVzcy5zcGxpdCgnRUFBRycpWzFdLnNwbGl0KCciLCInKVswXQogICAgICAgICAgICBjb29raWVfdG9rZW4gPSBmJ3tjb29raWV9fEVBQUd7dG9rZW59JwogICAgICAgICAgICBnb21lX3Rva2VuLmFwcGVuZChjb29raWVfdG9rZW4pCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBwcmludChmJ0Vycm9yIGV4dHJhY3RpbmcgdG9rZW46IHtlfScpCiAgICByZXR1cm4gZ29tZV90b2tlbgoKZGVmIHNoYXJlKHRhY2gsIGlkX3NoYXJlKToKICAgIGNvb2tpZSA9IHRhY2guc3BsaXQoJ3wnKVswXQogICAgdG9rZW4gPSB0YWNoLnNwbGl0KCd8JylbMV0KICAgIGhlID0gewogICAgICAgICdhY2NlcHQnOiAnKi8qJywKICAgICAgICAnYWNjZXB0LWVuY29kaW5nJzogJ2d6aXAsIGRlZmxhdGUnLAogICAgICAgICdjb25uZWN0aW9uJzogJ2tlZXAtYWxpdmUnLAogICAgICAgICdjb250ZW50LWxlbmd0aCc6ICcwJywKICAgICAgICAnY29va2llJzogY29va2llLAogICAgICAgICdob3N0JzogJ2dyYXBoLmZhY2Vib29rLmNvbScKICAgIH0KICAgIHRyeToKICAgICAgICByZXMgPSByZXF1ZXN0cy5wb3N0KGYnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWUvZmVlZD9saW5rPWh0dHBzOi8vbS5mYWNlYm9vay5jb20ve2lkX3NoYXJlfSZwdWJsaXNoZWQ9MCZhY2Nlc3NfdG9rZW49e3Rva2VufScsIGhlYWRlcnM9aGUsIHRpbWVvdXQ9MTApLmpzb24oKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHByaW50KGYnRXJyb3Igc2hhcmluZzoge2V9JykKICAgIApkZWYgbWVudSgpOgogICAgY2xlYXIoKQogICAgcHJpbnQoIiIiClwwMzNbMTszODsyOzI1NTsxMDU7MTgwbSAgIAoK4pWU4pWQ4pWX4pWmIOKVpuKVlOKVpuKVl+KVlOKVkOKVlyAg4pWU4pWQ4pWX4pWmIOKVpuKVlOKVkOKVl+KVpuKVkOKVl+KVlOKVkOKVlwrilaDilZDilaPilZEg4pWRIOKVkSDilZEg4pWRICDilZrilZDilZfilaDilZDilaPilaDilZDilaPilaDilabilZ3ilZHilaMgCuKVqSDilanilZrilZDilZ0g4pWpIOKVmuKVkOKVnSAg4pWa4pWQ4pWd4pWpIOKVqeKVqSDilanilanilZrilZDilZrilZDilZ0KClx4MWJbMzg7MjsxNzM7MjU1OzQ3beKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFx4MWJbMzg7MjsyMzM7MjMzOzIzM20KQ29kZWQgQnk6IENBU1dFTEwgQ0FMRVYKXHgxYlszODsyOzE3MzsyNTU7NDdt4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXHgxYlszODsyOzIzMzsyMzM7MjMzbQpcMDMzWzBtIiIiKQogICAgcHJpbnQoIlx4MWJbMzg7MjsxNzM7MjU1OzQ3bVsxXSBceDFiWzM4OzI7MjMzOzIzMzsyMzNtRmFzdCIpCiAgICBwcmludCgiXHgxYlszODsyOzE3MzsyNTU7NDdtWzJdIFx4MWJbMzg7MjsyMzM7MjMzOzIzM21TbG93IikKICAgIGNob2ljZSA9IGlucHV0KCJceDFiWzM4OzI7MTczOzI1NTs0N21TZWxlY3QgbW9kZTogXHgxYlszODsyOzIzMzsyMzM7MjMzbSIpCiAgICByZXR1cm4gY2hvaWNlCgpkZWYgc2hhcigpOgogICAgY2hvaWNlID0gbWVudSgpCiAgICBjbGVhcigpCiAgICBwcmludCgiIiIKXDAzM1sxOzM4OzI7MjU1OzEwNTsxODBtICAgCgrilZTilZDilZfilaYg4pWm4pWU4pWm4pWX4pWU4pWQ4pWXICDilZTilZDilZfilaYg4pWm4pWU4pWQ4pWX4pWm4pWQ4pWX4pWU4pWQ4pWXCuKVoOKVkOKVo+KVkSDilZEg4pWRIOKVkSDilZEgIOKVmuKVkOKVl+KVoOKVkOKVo+KVoOKVkOKVo+KVoOKVpuKVneKVkeKVoyAK4pWpIOKVqeKVmuKVkOKVnSDilakg4pWa4pWQ4pWdICDilZrilZDilZ3ilakg4pWp4pWpIOKVqeKVqeKVmuKVkOKVmuKVkOKVnQoKXHgxYlszODsyOzE3MzsyNTU7NDdt4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXHgxYlszODsyOzIzMzsyMzM7MjMzbQpDb2RlZCBCeTogQ0FTV0VMTCBDQUxFVgpQcm9ncmFtbWluZyBMYW5ndWFnZSB1c2U6IFB5dGhvbgpceDFiWzM4OzI7MTczOzI1NTs0N23ilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBceDFiWzM4OzI7MjMzOzIzMzsyMzNtClwwMzNbMG0iIiIpCiAgICBpbnB1dF9jb29raWVzID0gaW5wdXQoIlx4MWJbMzg7MjsxNzM7MjU1OzQ3bUVudGVyIENvb2tpZTogIFx4MWJbMzg7MjsyMzM7MjMzOzIzM20iKS5zcGxpdCgnLCcpCiAgICBpZF9zaGFyZSA9IGlucHV0KCJceDFiWzM4OzI7MTczOzI1NTs0N21FbnRlciBQb3N0IElEOiBceDFiWzM4OzI7MjMzOzIzMzsyMzNtIikKICAgIHRvdGFsX3NoYXJlID0gaW50KGlucHV0KCJceDFiWzM4OzI7MTczOzI1NTs0N21Ib3cgTWFueSBTaGFyZTogXHgxYlszODsyOzIzMzsyMzM7MjMzbSIpKQogICAgZGVsYXkgPSBpbnQoaW5wdXQoIlx4MWJbMzg7MjsxNzM7MjU1OzQ3bSBEZWxheSBTaGFyZTogXHgxYlszODsyOzIzMzsyMzM7MjMzbSIpKQogICAgcHJpbnQoJ1x4MWJbMzg7MjsxNzM7MjU1OzQ3beKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFx4MWJbMzg7MjsyMzM7MjMzOzIzM20nKQogICAgcHJpbnQoJ1x4MWJbMzg7MjsxNzM7MjU1OzQ3bVsqXSBceDFiWzM4OzI7MjMzOzIzMzsyMzNtd2FpdGluZy4uLicsIGVuZD0nXHInKQoKICAgIGFsbCA9IHRva3ooaW5wdXRfY29va2llcykKICAgIHRvdGFsX2xpdmUgPSBsZW4oYWxsKQogICAgcHJpbnQoZidceDFiWzM4OzI7MTczOzI1NTs0N21MaXZlOiBceDFiWzM4OzI7MjMzOzIzMzsyMzNte3RvdGFsX2xpdmV9IFx4MWJbMzg7MjsxNzM7MjU1OzQ3bUNvb2tpZXMnKQogICAgCiAgICBpZiB0b3RhbF9saXZlID09IDA6CiAgICAgICAgcHJpbnQoJ1x4MWJbMzg7MjsxNzM7MjU1OzQ3bVshXSBceDFiWzM4OzI7MjMzOzIzMzsyMzNtTm8gdmFsaWQgY29va2llcyBmb3VuZCEnKQogICAgICAgIHN5cy5leGl0KCkKCiAgICBwcmludCgnXHgxYlszODsyOzE3MzsyNTU7NDdt4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXHgxYlszODsyOzIzMzsyMzM7MjMzbScpCiAgICAKICAgIGlmIGNob2ljZSA9PSAnMSc6CiAgICAgICAgc3R0ID0gMAogICAgICAgIHdpdGggVGhyZWFkUG9vbEV4ZWN1dG9yKG1heF93b3JrZXJzPTUpIGFzIGV4ZWN1dG9yOgogICAgICAgICAgICBmdXR1cmVzID0gW10KICAgICAgICAgICAgZm9yIF8gaW4gcmFuZ2UodG90YWxfc2hhcmUpOgogICAgICAgICAgICAgICAgdGFjaCA9IGFsbFtzdHQgJSB0b3RhbF9saXZlXQogICAgICAgICAgICAgICAgc3R0ICs9IDEKICAgICAgICAgICAgICAgIGZ1dHVyZXMuYXBwZW5kKGV4ZWN1dG9yLnN1Ym1pdChzaGFyZSwgdGFjaCwgaWRfc2hhcmUpKQogICAgICAgICAgICAgICAgcHJpbnQoZidceDFiWzM4OzI7MTczOzI1NTs0N21TaGFyZTogKyBceDFiWzM4OzI7MjMzOzIzMzsyMzNte3N0dH0nLCBlbmQ9J1xyJykKICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoZGVsYXkpCiAgICAgICAgICAgIAogICAgICAgICAgICBmb3IgZnV0dXJlIGluIGZ1dHVyZXM6CiAgICAgICAgICAgICAgICBmdXR1cmUucmVzdWx0KCkKICAgIGVsc2U6CiAgICAgICAgc3R0ID0gMAogICAgICAgIHdoaWxlIHN0dCA8IHRvdGFsX3NoYXJlOgogICAgICAgICAgICBmb3IgdGFjaCBpbiBhbGw6CiAgICAgICAgICAgICAgICBpZiBzdHQgPj0gdG90YWxfc2hhcmU6CiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgIHN0dCA9IHN0dCArIDEKICAgICAgICAgICAgICAgIHNoYXJlKHRhY2gsIGlkX3NoYXJlKQogICAgICAgICAgICAgICAgcHJpbnQoZidceDFiWzM4OzI7MTczOzI1NTs0N21TaGFyZTogKyBceDFiWzM4OzI7MjMzOzIzMzsyMzNte3N0dH0nLCBlbmQ9J1xyJykKICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoZGVsYXkpCgogICAgZ29tZV90b2tlbi5jbGVhcigpCiAgICBpbnB1dCgnXHgxYlszODsyOzE3MzsyNTU7NDdtWypdIFx4MWJbMzg7MjsyMzM7MjMzOzIzM21FbnRlcl5eXDAzM1swbScpCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgICMgUnVuIGFwcHJvdmFsIGZsb3cgZmlyc3Q7IG9ubHkgcnVuIG1haW4oKSB3aGVuIGFwcHJvdmVkLgogICAgYWxsb3dlZCA9IGdlbmVyYXRlX2FuZF9jaGVja19jb2RlKCkKICAgIGlmIG5vdCBhbGxvd2VkOgogICAgICAgIGltcG9ydCBzeXMKICAgICAgICBzeXMuZXhpdCgxKQogICAgc2hhcigp'))