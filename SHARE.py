import base64;exec(base64.b64decode(b'aW1wb3J0IHJlcXVlc3RzCmltcG9ydCBqc29uCmltcG9ydCBvcwppbXBvcnQgcmUKaW1wb3J0IHN5cwppbXBvcnQgdGltZQppbXBvcnQgcmFuZG9tCmltcG9ydCBzdHJpbmcKaW1wb3J0IHRocmVhZGluZwpmcm9tIGdldHVzZXJhZ2VudCBpbXBvcnQgVXNlckFnZW50CmZyb20gcmljaCBpbXBvcnQgcHJpbnQgYXMgcmljaF9wcmludApmcm9tIGNvbmN1cnJlbnQuZnV0dXJlcyBpbXBvcnQgVGhyZWFkUG9vbEV4ZWN1dG9yCgojIEVuaGFuY2VkIGNvbG9yIHBhbGV0dGUKZGFya2JsdWUgPSAiXDAzM1szNG0iCmdyZWVuID0gIlwwMzNbMTszMm0iCnJlZCA9ICJcMDMzWzE7MzFtIgp5ZWxsb3cgPSAiXDAzM1sxOzMzbSIKc2t5Ymx1ZSA9ICJcMDMzWzE7MzZtIgpibHVlID0gIlwwMzNbMTszNG0iCmxpZ2h0Ymx1ZSA9ICJcMDMzWzM4OzU7ODFtIgp3aGl0ZSA9ICJcMDMzWzE7MzdtIgpSID0gIlwwMzNbMzFtIgpHID0gIlwwMzNbMzJtIgpZID0gIlwwMzNbMzNtIgpCID0gIlwwMzNbMzRtIgpNID0gIlwwMzNbMzVtIgpQID0gIlwwMzNbMzZtIgpDID0gIlwwMzNbMzdtIgpMSUdIVF9HUkVFTiA9ICJcMDMzWzkybSIKWUVMTE9XX0JSSUdIVCA9ICJcMDMzWzkzbSIKTkVPTl9QSU5LID0gIlwwMzNbMzg7NTsyMTNtIgpORU9OX0NZQU4gPSAiXDAzM1szODs1OzUxbSIKTkVPTl9HUkVFTiA9ICJcMDMzWzM4OzU7NDZtIgpQVVJQTEUgPSAiXDAzM1szODs1OzEzNW0iClJFU0VUID0gIlwwMzNbMG0iCgpBQ0NPVU5UU19ESVIgPSBvcy5wYXRoLmpvaW4ob3MucGF0aC5kaXJuYW1lKF9fZmlsZV9fKSwgJ2FjY291bnRzJykKQ09ERV9GSUxFID0gb3MucGF0aC5qb2luKEFDQ09VTlRTX0RJUiwgJ2dlbmVyYXRlZF9jb2RlLnR4dCcpCkNPT0tJRVNfRklMRSA9IG9zLnBhdGguam9pbihBQ0NPVU5UU19ESVIsICdjb29raWVzLnR4dCcpClRPS0VOU19GSUxFID0gb3MucGF0aC5qb2luKEFDQ09VTlRTX0RJUiwgJ3Rva2Vucy50eHQnKQoKCmRlZiBlbnN1cmVfZmlsZV9leGlzdHMoKToKICAgICIiIkVuc3VyZSB0aGF0IHRoZSBhY2NvdW50cyBkaXJlY3RvcnkgYW5kIHRoZSBjb2RlIGZpbGUgZXhpc3QgYnkgY3JlYXRpbmcgdGhlbSBpZiB0aGV5IGRvbid0IGV4aXN0LiIiIgogICAgb3MubWFrZWRpcnMoQUNDT1VOVFNfRElSLCBleGlzdF9vaz1UcnVlKQogICAgb3BlbihDT0RFX0ZJTEUsICdhJykuY2xvc2UoKSAgIyBUaGlzIHdpbGwgY3JlYXRlIHRoZSBmaWxlIGlmIGl0IGRvZXNuJ3QgZXhpc3QsIGJ1dCB3b24ndCBtb2RpZnkgaXQuCgpkZWYgZ2VuZXJhdGVfY29kZSgpOgogICAgIiIiR2VuZXJhdGUgYSB1bmlxdWUgY29kZSBpbiB0aGUgZm9ybWF0IFNBTU1ZLVhYWC1YWFhYWC4iIiIKICAgIHByZWZpeCA9ICJTQU1NWSIKICAgIG51bWJlcl9wYXJ0ID0gJycuam9pbihyYW5kb20uY2hvaWNlcyhzdHJpbmcuZGlnaXRzLCBrPTMpKSAgIyAzIHJhbmRvbSBkaWdpdHMKICAgIGxldHRlcnNfcGFydCA9ICcnLmpvaW4ocmFuZG9tLmNob2ljZXMoc3RyaW5nLmFzY2lpX3VwcGVyY2FzZSArIHN0cmluZy5kaWdpdHMsIGs9NSkpICAjIDUgYWxwaGFudW1lcmljIGNoYXJhY3RlcnMKICAgIGNvZGUgPSBmIntwcmVmaXh9LXtudW1iZXJfcGFydH0te2xldHRlcnNfcGFydH0iCiAgICByZXR1cm4gY29kZQogICAKCmRlZiBzYXZlX2NvZGUoY29kZSk6CiAgICAiIiJTYXZlIHRoZSBnZW5lcmF0ZWQgY29kZSB0byBhIGZpbGUuIiIiCiAgICB3aXRoIG9wZW4oQ09ERV9GSUxFLCAndycpIGFzIGZpbGU6CiAgICAgICAgZmlsZS53cml0ZShjb2RlKQoKZGVmIGxvYWRfY29kZSgpOgogICAgIiIiTG9hZCB0aGUgY29kZSBmcm9tIHRoZSBmaWxlLCBpZiBpdCBleGlzdHMuIiIiCiAgICBpZiBvcy5wYXRoLmV4aXN0cyhDT0RFX0ZJTEUpOgogICAgICAgIHdpdGggb3BlbihDT0RFX0ZJTEUsICdyJykgYXMgZmlsZToKICAgICAgICAgICAgcmV0dXJuIGZpbGUucmVhZCgpLnN0cmlwKCkKICAgIHJldHVybiBOb25lCgpkZWYgaXNfY29kZV9hcHByb3ZlZChjb2RlKToKICAgICIiIkNoZWNrIGlmIHRoZSBnZW5lcmF0ZWQgY29kZSBpcyBhcHByb3ZlZCBieSBmZXRjaGluZyB0aGUgYXBwcm92YWwgbGlzdC4iIiIKICAgIHRyeToKICAgICAgICAjIFVzZSB0aGUgY29ycmVjdCByYXcgR2l0SHViIFVSTCBmb3IgdGhlIEFwcHJvdmFsIGZpbGUKICAgICAgICB1cmwgPSAiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL1NlbnBhaUthenUtYWkvYXBwcm92ZS9yZWZzL2hlYWRzL21haW4vYXBwcm92YWwiCiAgICAgICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5nZXQodXJsLCB0aW1lb3V0PTEwKQogICAgICAgIHJlc3BvbnNlLnJhaXNlX2Zvcl9zdGF0dXMoKQogICAgICAgIGFwcHJvdmVkX2NvZGVzID0gcmVzcG9uc2UudGV4dC5zcGxpdGxpbmVzKCkKICAgICAgICAjIE5vcm1hbGl6ZSBsaW5lczogc3RyaXAgd2hpdGVzcGFjZSBhbmQgaWdub3JlIGNvbW1lbnRzCiAgICAgICAgYXBwcm92ZWRfY29kZXMgPSBbbGluZS5zcGxpdCgnIycsIDEpWzBdLnN0cmlwKCkgZm9yIGxpbmUgaW4gYXBwcm92ZWRfY29kZXMgaWYgbGluZSBhbmQgbm90IGxpbmUuc3RyaXAoKS5zdGFydHN3aXRoKCcjJyldCiAgICAgICAgcmV0dXJuIGNvZGUgaW4gYXBwcm92ZWRfY29kZXMKICAgIGV4Y2VwdCByZXF1ZXN0cy5SZXF1ZXN0RXhjZXB0aW9uIGFzIGU6CiAgICAgICAgcHJpbnQoZiJFcnJvciBmZXRjaGluZyB0aGUgYXBwcm92YWwgbGlzdDoge2V9IikKICAgICAgICAjIElmIHdlIGNhbm5vdCByZWFjaCBHaXRIdWIsIGJlIGNvbnNlcnZhdGl2ZSBhbmQgcmV0dXJuIEZhbHNlCiAgICAgICAgcmV0dXJuIEZhbHNlCgoKZGVmIGdlbmVyYXRlX2FuZF9jaGVja19jb2RlKCk6CiAgICAiIiJHZW5lcmF0ZSBhIGNvZGUgaWYgbm90IGV4aXN0aW5nLCBjaGVjayBpZiBpdCdzIGFwcHJvdmVkLCB0aGVuIHJldHVybiBUcnVlL0ZhbHNlLiIiIgogICAgZW5zdXJlX2ZpbGVfZXhpc3RzKCkgICMgRW5zdXJlIHRoZSBjb2RlIGZpbGUgZXhpc3RzIGJlZm9yZSBwcm9jZWVkaW5nCiAgICAKICAgIGNvZGUgPSBsb2FkX2NvZGUoKQogICAgCiAgICBpZiBjb2RlIGlzIE5vbmUgb3IgY29kZSA9PSAnJzoKCiAgICAgICAgY29kZSA9IGdlbmVyYXRlX2NvZGUoKQoKICAgICAgICBzYXZlX2NvZGUoY29kZSkKICAgICAgICBjbGVhcigpICAgICAgIAogICAgICAgIHByaW50KGYiICAgICAge3llbGxvd31ZT1VSIEdFTkVSQVRFRCBDT0RFIHt3aGl0ZX06IHtyZWR9e2NvZGV9IikKICAgIGVsc2U6CiAgICAgICAgY2xlYXIoKQogICAgICAgIHByaW50KGYiICAgICB7eWVsbG93fVlPVVIgQ09ERSB7d2hpdGV9OiB7cmVkfXtjb2RlfSIpCgogICAgaWYgaXNfY29kZV9hcHByb3ZlZChjb2RlKToKICAgICAgICAjIEFwcHJvdmVkIC0+IGFsbG93IGNhbGxlciB0byBjb250aW51ZQogICAgICAgIHJldHVybiBUcnVlCiAgICBlbHNlOgogICAgICAgICMgTm90IGFwcHJvdmVkIC0+IGJsb2NrIGFjY2VzcyBhbmQgaW5mb3JtIHVzZXIKICAgICAgICBwcmludChmIiAgICAge3JlZH3ilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcMDMzWzBtIikKICAgICAgICBwcmludChmIiAgICAge3JlZH1DT0RFIElTIE5PVCBBUFBST1ZFRCAhIHt5ZWxsb3d9UExFQVNFIFNFTkQgSVQgVE8ge3doaXRlfToge3llbGxvd31odHRwczovL3d3dy5mYWNlYm9vay5jb20vc2FtbXkudHJpc2hhMDEiKQogICAgICAgIHJldHVybiBGYWxzZQpkZWYgY29udmVyX3RvX2Nvb2tpZSh1c2VyLCBwYXNzdywgdGltZW91dD0xMCwgcmV0cmllcz0xLCBwcm94eT1Ob25lKToKCXVzZXJfYWdlbnRzID0gWwoJCSJNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvOTEuMC40NDcyLjEyNCBTYWZhcmkvNTM3LjM2IiwKCQkiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEwOyBLKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMTI0LjAuMC4wIE1vYmlsZSBTYWZhcmkvNTM3LjM2IiwKCQkiTW96aWxsYS81LjAgKGlQaG9uZTsgQ1BVIGlQaG9uZSBPUyAxNF83XzEgbGlrZSBNYWMgT1MgWCkgQXBwbGVXZWJLaXQvNjA1LjEuMTUgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzE0LjEuMiBNb2JpbGUvMTVFMTQ4IFNhZmFyaS82MDQuMSIsCgkJIk1vemlsbGEvNS4wIChYMTE7IExpbnV4IHg4Nl82NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzkxLjAuNDQ3Mi4xMjQgU2FmYXJpLzUzNy4zNiIKCV0KCQoJZm9yIGF0dGVtcHQgaW4gcmFuZ2UocmV0cmllcyk6CgkJdHJ5OgoJCQlzZXNzaW9uID0gcmVxdWVzdHMuU2Vzc2lvbigpCgkJCXNlc3Npb24uaGVhZGVycy51cGRhdGUoeydBY2NlcHQtRW5jb2RpbmcnOiAnZ3ppcCwgZGVmbGF0ZSd9KQoJCQlpZiBwcm94eToKCQkJCXNlc3Npb24ucHJveGllcy51cGRhdGUoeydodHRwJzogcHJveHksICdodHRwcyc6IHByb3h5fSkKCQkJCgkJCXNlbGVjdGVkX3VhID0gcmFuZG9tLmNob2ljZSh1c2VyX2FnZW50cykKCQkJaGVhZGVycyA9IHsKCQkJCSdhdXRob3JpdHknOiAnZnJlZS5mYWNlYm9vay5jb20nLAoJCQkJJ2FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgnLAoJCQkJJ2FjY2VwdC1sYW5ndWFnZSc6ICdlbi1VUyxlbjtxPTAuOScsCgkJCQknY2FjaGUtY29udHJvbCc6ICduby1jYWNoZScsCgkJCQknY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsCgkJCQkncHJhZ21hJzogJ25vLWNhY2hlJywKCQkJCSdvcmlnaW4nOiAnaHR0cHM6Ly9mcmVlLmZhY2Vib29rLmNvbScsCgkJCQkncmVmZXJlcic6ICdodHRwczovL2ZyZWUuZmFjZWJvb2suY29tL2xvZ2luLycsCgkJCQknc2VjLWZldGNoLWRlc3QnOiAnZG9jdW1lbnQnLAoJCQkJJ3NlYy1mZXRjaC1tb2RlJzogJ25hdmlnYXRlJywKCQkJCSdzZWMtZmV0Y2gtc2l0ZSc6ICdzYW1lLW9yaWdpbicsCgkJCQknc2VjLWZldGNoLXVzZXInOiAnPzEnLAoJCQkJJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiAnMScsCgkJCQkndXNlci1hZ2VudCc6IHNlbGVjdGVkX3VhLAoJCQl9CgkJCQoJCQkjIEdldCBsb2dpbiBwYWdlCgkJCWdldGxvZyA9IHNlc3Npb24uZ2V0KCdodHRwczovL2ZyZWUuZmFjZWJvb2suY29tL2xvZ2luLnBocCcsIHRpbWVvdXQ9dGltZW91dCwgaGVhZGVycz1oZWFkZXJzLCBhbGxvd19yZWRpcmVjdHM9VHJ1ZSkKCQkJcGFnZV90ZXh0ID0gZ2V0bG9nLnRleHQKCQkJCgkJCSMgRXh0cmFjdCBmb3JtIGZpZWxkcyB3aXRoIG11bHRpcGxlIHBhdHRlcm5zCgkJCWlucHV0X2ZpZWxkcyA9IHJlLmZpbmRhbGwocic8aW5wdXRbXj5dKj9uYW1lPVsiXCddKFteIlwnXSspWyJcJ11bXj5dKj92YWx1ZT1bIlwnXShbXiJcJ10qKVsiXCddJywgcGFnZV90ZXh0KQoJCQlpbnB1dF9kaWN0ID0ge2s6IHYgZm9yIGssIHYgaW4gaW5wdXRfZmllbGRzfQoJCQkKCQkJIyBUcnkgYWx0ZXJuYXRpdmUgcGF0dGVybgoJCQlpZiBsZW4oaW5wdXRfZGljdCkgPCAzOgoJCQkJaW5wdXRfZmllbGRzID0gcmUuZmluZGFsbChyJ25hbWU9WyJcJ10oW14iXCddKylbIlwnXS4qP3ZhbHVlPVsiXCddKFteIlwnXSopWyJcJ10nLCBwYWdlX3RleHQsIHJlLkRPVEFMTCkKCQkJCWlucHV0X2RpY3QudXBkYXRlKHtrOiB2IGZvciBrLCB2IGluIGlucHV0X2ZpZWxkc30pCgkJCQoJCQkjIEJ1aWxkIGxvZ2luIHBheWxvYWQgd2l0aCBhbGwgZXh0cmFjdGVkIGZpZWxkcwoJCQlpZHBhc3MgPSBkaWN0KGlucHV0X2RpY3QpCgkJCWlkcGFzc1snZW1haWwnXSA9IHVzZXIKCQkJaWRwYXNzWydwYXNzJ10gPSBwYXNzdwoJCQkKCQkJIyBFbnN1cmUgbG9naW4gYnV0dG9uIGlzIGluY2x1ZGVkCgkJCWlmICdsb2dpbicgbm90IGluIGlkcGFzczoKCQkJCWlkcGFzc1snbG9naW4nXSA9ICdMb2cgSW4nCgkJCQoJCQkjIFN1Ym1pdCBsb2dpbgoJCQljb21wID0gc2Vzc2lvbi5wb3N0KAoJCQkJJ2h0dHBzOi8vZnJlZS5mYWNlYm9vay5jb20vbG9naW4vZGV2aWNlLWJhc2VkL3JlZ3VsYXIvbG9naW4vP3NoYmw9MSZyZWZzcmM9ZGVwcmVjYXRlZCcsCgkJCQloZWFkZXJzPWhlYWRlcnMsCgkJCQlkYXRhPWlkcGFzcywKCQkJCWFsbG93X3JlZGlyZWN0cz1UcnVlLAoJCQkJdGltZW91dD10aW1lb3V0CgkJCSkKCQkJCgkJCWNvb2tpZXNfZGljdCA9IHNlc3Npb24uY29va2llcy5nZXRfZGljdCgpCgkJCQoJCQlpZiAnY191c2VyJyBpbiBjb29raWVzX2RpY3Q6CgkJCQkjIExvZ2luIHN1Y2Nlc3NmdWwgLSBub3cgZXh0cmFjdCBFQUFHIHRva2VuIGltbWVkaWF0ZWx5CgkJCQl0aW1lLnNsZWVwKDEpCgkJCQl0b2tlbl9yZXNwb25zZSA9IHNlc3Npb24uZ2V0KCdodHRwczovL2J1c2luZXNzLmZhY2Vib29rLmNvbS9jb250ZW50X21hbmFnZW1lbnQnLCB0aW1lb3V0PXRpbWVvdXQsIGhlYWRlcnM9aGVhZGVycykKCQkJCXRva2VuX3BhZ2UgPSB0b2tlbl9yZXNwb25zZS50ZXh0CgkJCQkKCQkJCWlmICdFQUFHJyBpbiB0b2tlbl9wYWdlOgoJCQkJCXRyeToKCQkJCQkJdG9rZW4gPSB0b2tlbl9wYWdlLnNwbGl0KCdFQUFHJylbMV0uc3BsaXQoJyIsIicpWzBdCgkJCQkJCWlmIHRva2VuIGFuZCBsZW4odG9rZW4pID4gMTA6CgkJCQkJCQljb29raWVfc3RyID0gIjsiLmpvaW4oW2Yie2t9PXt2fSIgZm9yIGssIHYgaW4gY29va2llc19kaWN0Lml0ZW1zKCldKQoJCQkJCQkJcmV0dXJuIHsiYSI6IFRydWUsICJiIjogZid7Y29va2llX3N0cn18RUFBR3t0b2tlbn0nLCAiZW1haWwiOiB1c2VyfQoJCQkJCWV4Y2VwdDoKCQkJCQkJcGFzcwoJCQkJCgkJCQkjIEZhbGxiYWNrOiByZXR1cm4gY29va2llIHdpdGhvdXQgdG9rZW4KCQkJCWNvb2tpZV9zdHIgPSAiOyIuam9pbihbZiJ7a309e3Z9IiBmb3IgaywgdiBpbiBjb29raWVzX2RpY3QuaXRlbXMoKV0pCgkJCQlyZXR1cm4geyJhIjogVHJ1ZSwgImIiOiBjb29raWVfc3RyLCAiZW1haWwiOiB1c2VyfQoJCQllbGlmICdjaGVja3BvaW50JyBpbiBjb29raWVzX2RpY3Q6CgkJCQlyZXR1cm4geyJhIjogRmFsc2UsICJiIjogIjpyZWQtYmFja2dyb3VuZFtlcnJvcl0gQWNjb3VudCBjaGVja3BvaW50IiwgImVtYWlsIjogdXNlcn0KCQkJZWxpZiBjb21wLnN0YXR1c19jb2RlIGluIFsyMDAsIDMwMl0gYW5kIGNvb2tpZXNfZGljdDoKCQkJCWNvb2tpZV9zdHIgPSAiOyIuam9pbihbZiJ7a309e3Z9IiBmb3IgaywgdiBpbiBjb29raWVzX2RpY3QuaXRlbXMoKV0pCgkJCQlyZXR1cm4geyJhIjogVHJ1ZSwgImIiOiBjb29raWVfc3RyLCAiZW1haWwiOiB1c2VyfQoJCQkKCQkJcmV0dXJuIHsiYSI6IEZhbHNlLCAiYiI6ICI6cmVkLWJhY2tncm91bmRbZXJyb3JdIEludmFsaWQgY3JlZGVudGlhbHMiLCAiZW1haWwiOiB1c2VyfQoJCQkJCgkJZXhjZXB0IEV4Y2VwdGlvbiBhcyBlZDoKCQkJaWYgYXR0ZW1wdCA8IHJldHJpZXMgLSAxOgoJCQkJdGltZS5zbGVlcChyYW5kb20udW5pZm9ybSgzLCA2KSkKCQkJCWNvbnRpbnVlCgkJCXJldHVybiB7ImEiOiBGYWxzZSwgImIiOiBmJ0V4Y2VwdGlvbjoge3N0cihlZClbOjQwXX0nLCAiZW1haWwiOiB1c2VyfQpkZWYgYmFuKCk6CiAgIHByaW50KGYiIiIKe05FT05fUElOS33ilZTilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZcK4pWRICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilZEK4pWRICAgICDilojilojilojilojilojilojilojilZfilojilojilZcgIOKWiOKWiOKVlyDilojilojilojilojilojilZcg4paI4paI4paI4paI4paI4paI4pWXIOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKVlyDilojilojilojilojilojilojilZcgICAgICAgICAgICAgICAgICDilZEK4pWRICAgICDilojilojilZTilZDilZDilZDilZDilZ3ilojilojilZEgIOKWiOKWiOKVkeKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVl+KWiOKWiOKVlOKVkOKVkOKWiOKWiOKVl+KWiOKWiOKVlOKVkOKVkOKVkOKVkOKVneKWiOKWiOKVlOKVkOKVkOKVkOKVkOKVnSAgICAgICAgICAgICAgICAgIOKVkQrilZEgICAgIOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWiOKWiOKWiOKWiOKWiOKWiOKWiOKVkeKWiOKWiOKWiOKWiOKWiOKWiOKWiOKVkeKWiOKWiOKWiOKWiOKWiOKWiOKVlOKVneKWiOKWiOKWiOKWiOKWiOKVlyAg4paI4paI4pWRICAgICAgICAgICAgICAgICAgICAgICDilZEK4pWRICAgICDilZrilZDilZDilZDilZDilojilojilZHilojilojilZTilZDilZDilojilojilZHilojilojilZTilZDilZDilojilojilZHilojilojilZTilZDilZDilojilojilZfilojilojilZTilZDilZDilZ0gIOKWiOKWiOKVkSAgICAgICAgICAgICAgICAgICAgICAg4pWRCuKVkSAgICAg4paI4paI4paI4paI4paI4paI4paI4pWR4paI4paI4pWRICDilojilojilZHilojilojilZEgIOKWiOKWiOKVkeKWiOKWiOKVkSAg4paI4paI4pWR4paI4paI4paI4paI4paI4paI4paI4pWX4pWa4paI4paI4paI4paI4paI4paI4pWXICAgICAgICAgICAgICAgICAg4pWRCuKVkSAgICAg4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWd4pWa4pWQ4pWdICDilZrilZDilZ3ilZrilZDilZ0gIOKVmuKVkOKVneKVmuKVkOKVnSAg4pWa4pWQ4pWd4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWdIOKVmuKVkOKVkOKVkOKVkOKVkOKVnSAgICAgICAgICAgICAgICAgIOKVkQrilZEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKVkQrilZEge05FT05fQ1lBTn3imqDvuI8gIENPREUgTk9UIEFQUFJPVkVEIC0gQUNDRVNTIERFTklFRHtORU9OX1BJTkt9ICAgICAgICAgICDilZEK4pWRICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilZEK4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWdCntORU9OX0NZQU59CkNvZGVkIEJ5OiBDQVNXRUxMIENBTEVWClByb2dyYW1taW5nIExhbmd1YWdlOiBQeXRob24Ke1JFU0VUfSIiIikKCmRlZiBjbGVhcigpOgogICAgaWYoc3lzLnBsYXRmb3JtLnN0YXJ0c3dpdGgoJ3dpbicpKToKICAgICAgICBvcy5zeXN0ZW0oJ2NscycpCiAgICBlbHNlOgogICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQoKZ29tZV90b2tlbiA9IFtdCgpkZWYgdG9reihpbnB1dF9jb29raWVzKToKICAgIGV4dHJhY3RlZF90b2tlbnMgPSBbXQogICAgZm9yIGlkeCwgY29va2llIGluIGVudW1lcmF0ZShpbnB1dF9jb29raWVzLCAxKToKICAgICAgICBoZWFkZXJfID0gewogICAgICAgICAgICAnYXV0aG9yaXR5JzogJ2J1c2luZXNzLmZhY2Vib29rLmNvbScsCiAgICAgICAgICAgICdhY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45JywKICAgICAgICAgICAgJ2FjY2VwdC1sYW5ndWFnZSc6ICd2aS1WTix2aTtxPTAuOSxmci1GUjtxPTAuOCxmcjtxPTAuNyxlbi1VUztxPTAuNixlbjtxPTAuNScsCiAgICAgICAgICAgICdjYWNoZS1jb250cm9sJzogJ21heC1hZ2U9MCcsCiAgICAgICAgICAgICdjb29raWUnOiBjb29raWUsCiAgICAgICAgICAgICdyZWZlcmVyJzogJ2h0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS8nLAogICAgICAgICAgICAnc2VjLWNoLXVhJzogJyIuTm90L0EpQnJhbmQiO3Y9Ijk5IiwgIkdvb2dsZSBDaHJvbWUiO3Y9IjEwMyIsICJDaHJvbWl1bSI7dj0iMTAzIicsCiAgICAgICAgICAgICdzZWMtY2gtdWEtbW9iaWxlJzogJz8wJywKICAgICAgICAgICAgJ3NlYy1jaC11YS1wbGF0Zm9ybSc6ICciTGludXgiJywKICAgICAgICAgICAgJ3NlYy1mZXRjaC1kZXN0JzogJ2RvY3VtZW50JywKICAgICAgICAgICAgJ3NlYy1mZXRjaC1tb2RlJzogJ25hdmlnYXRlJywKICAgICAgICAgICAgJ3NlYy1mZXRjaC1zaXRlJzogJ3NhbWUtb3JpZ2luJywKICAgICAgICAgICAgJ3NlYy1mZXRjaC11c2VyJzogJz8xJywKICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiAnMScsCiAgICAgICAgfQogICAgICAgIHRyeToKICAgICAgICAgICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vYnVzaW5lc3MuZmFjZWJvb2suY29tL2NvbnRlbnRfbWFuYWdlbWVudCcsIGhlYWRlcnM9aGVhZGVyXywgdGltZW91dD0xMCkKICAgICAgICAgICAgaG9tZV9idXNpbmVzcyA9IHJlc3BvbnNlLnRleHQKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIHJlc3BvbnNlLnN0YXR1c19jb2RlICE9IDIwMDoKICAgICAgICAgICAgICAgIHByaW50KGYne05FT05fR1JFRU59W3tpZHh9XXtSRVNFVH0ge05FT05fUElOS33inJd7UkVTRVR9IEhUVFAgRXJyb3Ige3Jlc3BvbnNlLnN0YXR1c19jb2RlfScpCiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAKICAgICAgICAgICAgaWYgJ0VBQUcnIG5vdCBpbiBob21lX2J1c2luZXNzOgogICAgICAgICAgICAgICAgaWYgJ2xvZ2luJyBpbiBob21lX2J1c2luZXNzLmxvd2VyKCkgb3IgJ2NoZWNrcG9pbnQnIGluIGhvbWVfYnVzaW5lc3MubG93ZXIoKToKICAgICAgICAgICAgICAgICAgICBwcmludChmJ3tORU9OX0dSRUVOfVt7aWR4fV17UkVTRVR9IHtORU9OX1BJTkt94pyXe1JFU0VUfSBDaGVja3BvaW50L0F1dGggcmVxdWlyZWQnKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBwcmludChmJ3tORU9OX0dSRUVOfVt7aWR4fV17UkVTRVR9IHtORU9OX1BJTkt94pyXe1JFU0VUfSBObyB0b2tlbiBmb3VuZCcpCiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAKICAgICAgICAgICAgdG9rZW4gPSBob21lX2J1c2luZXNzLnNwbGl0KCdFQUFHJylbMV0uc3BsaXQoJyIsIicpWzBdCiAgICAgICAgICAgIGlmIG5vdCB0b2tlbiBvciBsZW4odG9rZW4pIDwgMTA6CiAgICAgICAgICAgICAgICBwcmludChmJ3tORU9OX0dSRUVOfVt7aWR4fV17UkVTRVR9IHtORU9OX1BJTkt94pyXe1JFU0VUfSBJbnZhbGlkIHRva2VuJykKICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgIAogICAgICAgICAgICBjb29raWVfdG9rZW4gPSBmJ3tjb29raWV9fEVBQUd7dG9rZW59JwogICAgICAgICAgICBnb21lX3Rva2VuLmFwcGVuZChjb29raWVfdG9rZW4pCiAgICAgICAgICAgIGV4dHJhY3RlZF90b2tlbnMuYXBwZW5kKChpZHgsIGNvb2tpZV90b2tlbikpCiAgICAgICAgICAgIHByaW50KGYne05FT05fR1JFRU59W3tpZHh9XSDinJN7UkVTRVR9IFRva2VuIGV4dHJhY3RlZCcpCiAgICAgICAgZXhjZXB0IHJlcXVlc3RzLlJlcXVlc3RFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcHJpbnQoZid7TkVPTl9HUkVFTn1be2lkeH1de1JFU0VUfSB7TkVPTl9QSU5LfeKcl3tSRVNFVH0gTmV0d29yayBlcnJvcicpCiAgICAgICAgZXhjZXB0IEluZGV4RXJyb3I6CiAgICAgICAgICAgIHByaW50KGYne05FT05fR1JFRU59W3tpZHh9XXtSRVNFVH0ge05FT05fUElOS33inJd7UkVTRVR9IFBhcnNpbmcgZmFpbGVkJykKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIHByaW50KGYne05FT05fR1JFRU59W3tpZHh9XXtSRVNFVH0ge05FT05fUElOS33inJd7UkVTRVR9IEVycm9yJykKICAgIHJldHVybiBleHRyYWN0ZWRfdG9rZW5zCgpkZWYgc2F2ZV90b2tlbnNfdG9fZmlsZShleHRyYWN0ZWRfdG9rZW5zKToKICAgICIiIlNhdmUgZXh0cmFjdGVkIHRva2VucyB3aXRoIGxpbmUgbnVtYmVycyB0byBhIGZpbGUuIiIiCiAgICB3aXRoIG9wZW4oVE9LRU5TX0ZJTEUsICd3JykgYXMgZmlsZToKICAgICAgICBmb3IgbGluZV9udW0sIHRva2VuIGluIGV4dHJhY3RlZF90b2tlbnM6CiAgICAgICAgICAgIGZpbGUud3JpdGUoZid7bGluZV9udW19fHt0b2tlbn1cbicpCiAgICBwcmludChmJ1x4MWJbMzg7MjsxNzM7MjU1OzQ3bVsrXSBceDFiWzM4OzI7MjMzOzIzMzsyMzNtVG9rZW5zIHNhdmVkIHRvIHtUT0tFTlNfRklMRX0nKQoKZGVmIGxvYWRfdG9rZW5zX2Zyb21fZmlsZSgpOgogICAgIiIiTG9hZCB0b2tlbnMgZnJvbSBmaWxlIHdpdGggbGluZSBudW1iZXJzLiIiIgogICAgaWYgb3MucGF0aC5leGlzdHMoVE9LRU5TX0ZJTEUpOgogICAgICAgIHRva2VucyA9IFtdCiAgICAgICAgd2l0aCBvcGVuKFRPS0VOU19GSUxFLCAncicpIGFzIGZpbGU6CiAgICAgICAgICAgIGZvciBsaW5lIGluIGZpbGU6CiAgICAgICAgICAgICAgICBsaW5lID0gbGluZS5zdHJpcCgpCiAgICAgICAgICAgICAgICBpZiBsaW5lOgogICAgICAgICAgICAgICAgICAgIHRva2Vucy5hcHBlbmQobGluZSkKICAgICAgICByZXR1cm4gdG9rZW5zCiAgICByZXR1cm4gW10KCmRlZiBsb2FkX2Nvb2tpZXNfZnJvbV9maWxlKGZpbGVfcGF0aCk6CiAgICAiIiJMb2FkIGNvb2tpZXMgZnJvbSBhIHRleHQgZmlsZS4iIiIKICAgIGlmIG9zLnBhdGguZXhpc3RzKGZpbGVfcGF0aCk6CiAgICAgICAgd2l0aCBvcGVuKGZpbGVfcGF0aCwgJ3InKSBhcyBmaWxlOgogICAgICAgICAgICBjb29raWVzID0gW2xpbmUuc3RyaXAoKSBmb3IgbGluZSBpbiBmaWxlIGlmIGxpbmUuc3RyaXAoKV0KICAgICAgICByZXR1cm4gY29va2llcwogICAgZWxzZToKICAgICAgICBwcmludChmJ1x4MWJbMzg7MjsxNzM7MjU1OzQ3bVshXSBceDFiWzM4OzI7MjMzOzIzMzsyMzNtRmlsZSBub3QgZm91bmQ6IHtmaWxlX3BhdGh9JykKICAgICAgICByZXR1cm4gW10KCmRlZiBleHRyYWN0X3Rva2VuX21lbnUoKToKICAgICIiIk1lbnUgZm9yIGV4dHJhY3RpbmcgdG9rZW5zIGZyb20gYSBzaW5nbGUgY29va2llIGxpbmUuIiIiCiAgICBjbGVhcigpCiAgICBwcmludChmIiIie05FT05fUElOS30K4pWU4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWXCuKVkSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKVkQrilZEgICAg4paI4paI4paI4paI4paI4paI4paI4paI4pWXIOKWiOKWiOKWiOKWiOKWiOKWiOKVlyDilojilojilZcgIOKWiOKWiOKVl+KWiOKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWiOKWiOKWiOKVlyAgIOKWiOKWiOKVl+KWiOKWiOKWiOKWiOKWiOKWiOKWiOKVlyAgICAgICDilZEK4pWRICAgIOKVmuKVkOKVkOKWiOKWiOKVlOKVkOKVkOKVneKWiOKWiOKVlOKVkOKVkOKVkOKWiOKWiOKVl+KWiOKWiOKVkSDilojilojilZTilZ3ilojilojilZTilZDilZDilZDilZDilZ3ilojilojilojilojilZcgIOKWiOKWiOKVkeKWiOKWiOKVlOKVkOKVkOKVkOKVkOKVnSAgICAgICDilZEK4pWRICAgICAgIOKWiOKWiOKVkSAgIOKWiOKWiOKVkSAgIOKWiOKWiOKVkeKWiOKWiOKWiOKWiOKWiOKVlOKVnSDilojilojilojilojilojilZcgIOKWiOKWiOKVlOKWiOKWiOKVlyDilojilojilZHilojilojilojilojilojilojilojilZcgICAgICAg4pWRCuKVkSAgICAgICDilojilojilZEgICDilojilojilZEgICDilojilojilZHilojilojilZTilZDilojilojilZcg4paI4paI4pWU4pWQ4pWQ4pWdICDilojilojilZHilZrilojilojilZfilojilojilZHilZrilZDilZDilZDilZDilojilojilZEgICAgICAg4pWRCuKVkSAgICAgICDilojilojilZEgICDilZrilojilojilojilojilojilojilZTilZ3ilojilojilZEgIOKWiOKWiOKVl+KWiOKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWiOKWiOKVkSDilZrilojilojilojilojilZHilojilojilojilojilojilojilojilZEgICAgICAg4pWRCuKVkSAgICAgICDilZrilZDilZ0gICAg4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWdIOKVmuKVkOKVnSAg4pWa4pWQ4pWd4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWd4pWa4pWQ4pWdICDilZrilZDilZDilZDilZ3ilZrilZDilZDilZDilZDilZDilZDilZ0gICAgICAg4pWRCuKVkSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKVkQrilZEgICAge05FT05fQ1lBTn1FeHRyYWN0IFRva2VuIEZyb20gQ29va2lle05FT05fUElOS30gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pWRCuKVkSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKVkQrilZrilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZ0Ke1JFU0VUfSIiIikKICAgIHByaW50KGYie05FT05fQ1lBTn3ilZTilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZd7UkVTRVR9IikKICAgIHByaW50KGYie05FT05fQ1lBTn3ilZF7UkVTRVR9IHtORU9OX0dSRUVOfVsxXXtSRVNFVH0g8J+TgiBMb2FkIHRva2VucyBmcm9tIGZpbGUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge05FT05fQ1lBTn3ilZF7UkVTRVR9IikKICAgIHByaW50KGYie05FT05fQ1lBTn3ilZF7UkVTRVR9IHtORU9OX0dSRUVOfVsyXXtSRVNFVH0g4pyP77iPICBQYXN0ZSB5b3VyIGNvb2tpZSBtYW51YWxseSAgICAgICAgICAgICAgICAgICAgICAgICAgICAge05FT05fQ1lBTn3ilZF7UkVTRVR9IikKICAgIHByaW50KGYie05FT05fQ1lBTn3ilZrilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZ17UkVTRVR9IikKICAgIGNob2ljZSA9IGlucHV0KGYie05FT05fR1JFRU594p6kIFNlbGVjdCBvcHRpb246IHtSRVNFVH0iKS5zdHJpcCgpCiAgICAKICAgIGlmIGNob2ljZSA9PSAnMSc6CiAgICAgICAgZmlsZV9wYXRoID0gaW5wdXQoZiJ7TkVPTl9HUkVFTn3inqQgRW50ZXIgZmlsZSBwYXRoOiB7UkVTRVR9Iikuc3RyaXAoKQogICAgICAgIGlmIG5vdCBmaWxlX3BhdGg6CiAgICAgICAgICAgIHByaW50KGYne05FT05fUElOS31bIV17UkVTRVR9IE5vIGZpbGUgcGF0aCBwcm92aWRlZC4nKQogICAgICAgICAgICBpbnB1dChmJ3tORU9OX0NZQU59Wypde1JFU0VUfSBQcmVzcyBFbnRlciB0byBjb250aW51ZS4uLntSRVNFVH0nKQogICAgICAgICAgICByZXR1cm4KICAgICAgICAKICAgICAgICBjb29raWVzID0gbG9hZF9jb29raWVzX2Zyb21fZmlsZShmaWxlX3BhdGgpCiAgICAgICAgaWYgbm90IGNvb2tpZXM6CiAgICAgICAgICAgIHByaW50KGYne05FT05fUElOS31bIV17UkVTRVR9IE5vIGNvb2tpZXMgZm91bmQgaW4gZmlsZS4nKQogICAgICAgICAgICBpbnB1dChmJ3tORU9OX0NZQU59Wypde1JFU0VUfSBQcmVzcyBFbnRlciB0byBjb250aW51ZS4uLntSRVNFVH0nKQogICAgICAgICAgICByZXR1cm4KICAgICAgICAKICAgICAgICBwcmludChmJ3tORU9OX0dSRUVOfVsqXXtSRVNFVH0gRXh0cmFjdGluZyB0b2tlbnMgZnJvbSB7TkVPTl9DWUFOfXtsZW4oY29va2llcyl9e1JFU0VUfSBjb29raWVzLi4uJykKICAgICAgICBwcmludChmJ3tORU9OX0NZQU594pWU4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWXe1JFU0VUfScpCiAgICAgICAgCiAgICAgICAgZXh0cmFjdGVkID0gdG9reihjb29raWVzKQogICAgICAgIAogICAgICAgIGlmIGV4dHJhY3RlZDoKICAgICAgICAgICAgc2F2ZV90b2tlbnNfdG9fZmlsZShleHRyYWN0ZWQpCiAgICAgICAgICAgIHByaW50KGYne05FT05fQ1lBTn3ilZrilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZ17UkVTRVR9JykKICAgICAgICAgICAgcHJpbnQoZid7TkVPTl9HUkVFTn1b4pyTXXtSRVNFVH0gVG9rZW5zIHNhdmVkIHN1Y2Nlc3NmdWxseSEnKQogICAgICAgICAgICBhbGxfdG9rZW5zID0gbG9hZF90b2tlbnNfZnJvbV9maWxlKCkKICAgICAgICAgICAgcHJpbnQoZid7TkVPTl9HUkVFTn1bK117UkVTRVR9IEF2YWlsYWJsZSB0b2tlbnM6IHtORU9OX0NZQU59e2xlbihhbGxfdG9rZW5zKX17UkVTRVR9JykKICAgICAgICBlbHNlOgogICAgICAgICAgICBwcmludChmJ3tORU9OX0NZQU594pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWde1JFU0VUfScpCiAgICAgICAgICAgIHByaW50KGYne05FT05fUElOS31bIV17UkVTRVR9IEZhaWxlZCB0byBleHRyYWN0IHRva2Vucy4nKQogICAgCiAgICBlbGlmIGNob2ljZSA9PSAnMic6CiAgICAgICAgY29va2llID0gaW5wdXQoZiJ7TkVPTl9HUkVFTn3inqQgUGFzdGUgeW91ciBjb29raWU6IHtSRVNFVH0iKS5zdHJpcCgpCiAgICAgICAgCiAgICAgICAgaWYgbm90IGNvb2tpZToKICAgICAgICAgICAgcHJpbnQoZid7TkVPTl9QSU5LfVshXXtSRVNFVH0gTm8gY29va2llIHByb3ZpZGVkLicpCiAgICAgICAgICAgIGlucHV0KGYne05FT05fQ1lBTn1bKl17UkVTRVR9IFByZXNzIEVudGVyIHRvIGNvbnRpbnVlLi4ue1JFU0VUfScpCiAgICAgICAgICAgIHJldHVybgogICAgICAgIAogICAgICAgIHByaW50KGYne05FT05fR1JFRU59Wypde1JFU0VUfSBFeHRyYWN0aW5nIHRva2VuLi4uJykKICAgICAgICBwcmludChmJ3tORU9OX0NZQU594pWU4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWXe1JFU0VUfScpCiAgICAgICAgCiAgICAgICAgZXh0cmFjdGVkID0gdG9reihbY29va2llXSkKICAgICAgICAKICAgICAgICBpZiBleHRyYWN0ZWQ6CiAgICAgICAgICAgIHNhdmVfdG9rZW5zX3RvX2ZpbGUoZXh0cmFjdGVkKQogICAgICAgICAgICBwcmludChmJ3tORU9OX0NZQU594pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWde1JFU0VUfScpCiAgICAgICAgICAgIHByaW50KGYne05FT05fR1JFRU59W+Kck117UkVTRVR9IFRva2VuIHNhdmVkIHN1Y2Nlc3NmdWxseSEnKQogICAgICAgICAgICBhbGxfdG9rZW5zID0gbG9hZF90b2tlbnNfZnJvbV9maWxlKCkKICAgICAgICAgICAgcHJpbnQoZid7TkVPTl9HUkVFTn1bK117UkVTRVR9IEF2YWlsYWJsZSB0b2tlbnM6IHtORU9OX0NZQU59e2xlbihhbGxfdG9rZW5zKX17UkVTRVR9JykKICAgICAgICBlbHNlOgogICAgICAgICAgICBwcmludChmJ3tORU9OX0NZQU594pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWde1JFU0VUfScpCiAgICAgICAgICAgIHByaW50KGYne05FT05fUElOS31bIV17UkVTRVR9IEZhaWxlZCB0byBleHRyYWN0IHRva2VuLicpCiAgICBlbHNlOgogICAgICAgIHByaW50KGYne05FT05fUElOS31bIV17UkVTRVR9IEludmFsaWQgb3B0aW9uLicpCiAgICAKICAgIGlucHV0KGYne05FT05fQ1lBTn1bKl17UkVTRVR9IFByZXNzIEVudGVyIHRvIGNvbnRpbnVlLi4ue1JFU0VUfScpCgpkZWYgZXh0cmFjdF9jb29raWVzX21lbnUoKToKICAgICIiIk1lbnUgZm9yIGV4dHJhY3RpbmcgY29va2llcyBmcm9tIHVzZXJuYW1lL3Bhc3N3b3JkIGNyZWRlbnRpYWxzLiIiIgogICAgY2xlYXIoKQogICAgcHJpbnQoZiIiIntORU9OX1BJTkt9CuKVlOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVlwrilZEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilZEK4pWRICAgIOKWiOKWiOKWiOKWiOKWiOKWiOKVlyDilojilojilojilojilojilojilZcg4paI4paI4paI4paI4paI4paI4pWXIOKWiOKWiOKVlyAg4paI4paI4pWX4paI4paI4pWX4paI4paI4paI4paI4paI4paI4paI4pWX4paI4paI4paI4paI4paI4paI4paI4pWXICAgICAgICDilZEK4pWRICAgIOKWiOKWiOKVlOKVkOKVkOKVkOKVkOKVneKWiOKWiOKVlOKVkOKVkOKVkOKWiOKWiOKVl+KWiOKWiOKVlOKVkOKVkOKWiOKWiOKVl+KWiOKWiOKVkSDilojilojilZTilZ3ilojilojilZHilojilojilZTilZDilZDilZDilZDilZ3ilojilojilZTilZDilZDilZDilZDilZ0gICAgICAg4pWRCuKVkSAgICDilojilojilZEgICAgIOKWiOKWiOKVkSAgIOKWiOKWiOKVkeKWiOKWiOKVkSAg4paI4paI4pWR4paI4paI4paI4paI4paI4pWU4pWdIOKWiOKWiOKVkeKWiOKWiOKWiOKWiOKWiOKVlyAg4paI4paI4paI4paI4paI4paI4paI4pWXICAgICAgIOKVkQrilZEgICAg4paI4paI4pWRICAgICDilojilojilZEgICDilojilojilZHilojilojilZEgIOKWiOKWiOKVkeKWiOKWiOKVlOKVkOKWiOKWiOKVlyDilojilojilZHilojilojilZTilZDilZDilZ0gIOKVmuKVkOKVkOKVkOKVkOKWiOKWiOKVkSAgICAgICDilZEK4pWRICAgIOKVmuKWiOKWiOKWiOKWiOKWiOKWiOKVl+KVmuKWiOKWiOKWiOKWiOKWiOKWiOKVlOKVneKWiOKWiOKWiOKWiOKWiOKWiOKVlOKVneKWiOKWiOKVkSAg4paI4paI4pWX4paI4paI4pWR4paI4paI4paI4paI4paI4paI4paI4pWX4paI4paI4paI4paI4paI4paI4paI4pWRICAgICAgIOKVkQrilZEgICAgIOKVmuKVkOKVkOKVkOKVkOKVkOKVnSDilZrilZDilZDilZDilZDilZDilZ0g4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWdIOKVmuKVkOKVnSAg4pWa4pWQ4pWd4pWa4pWQ4pWd4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWd4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWdICAgICAgIOKVkQrilZEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilZEK4pWRICAgICB7TkVPTl9DWUFOfUV4dHJhY3QgQ29va2llcyBGcm9tIENyZWRlbnRpYWxze05FT05fUElOS30gICAg4pWRCuKVkSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKVkQrilZrilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZ0Ke1JFU0VUfSIiIikKICAgIHByaW50KGYie05FT05fQ1lBTn3ilZTilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZd7UkVTRVR9IikKICAgIHByaW50KGYie05FT05fQ1lBTn3ilZF7UkVTRVR9IHtORU9OX0dSRUVOfVsxXXtSRVNFVH0g8J+TgiBMb2FkIGZyb20gZmlsZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge05FT05fQ1lBTn3ilZF7UkVTRVR9IikKICAgIHByaW50KGYie05FT05fQ1lBTn3ilZF7UkVTRVR9IHtORU9OX0dSRUVOfVsyXXtSRVNFVH0g4oyo77iPICBFbnRlciBtYW51YWxseSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge05FT05fQ1lBTn3ilZF7UkVTRVR9IikKICAgIHByaW50KGYie05FT05fQ1lBTn3ilZrilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZ17UkVTRVR9IikKICAgIGNob2ljZSA9IGlucHV0KGYie05FT05fR1JFRU594p6kIFNlbGVjdCBvcHRpb246IHtSRVNFVH0iKS5zdHJpcCgpCiAgICAKICAgIGNyZWRlbnRpYWxzID0gW10KICAgIAogICAgaWYgY2hvaWNlID09ICcxJzoKICAgICAgICBmaWxlX3BhdGggPSBpbnB1dChmIntORU9OX0dSRUVOfeKepCBFbnRlciBmaWxlIHBhdGggKGVtYWlsOnBhc3N3b3JkIGZvcm1hdCk6IHtSRVNFVH0iKS5zdHJpcCgpCiAgICAgICAgaWYgbm90IGZpbGVfcGF0aDoKICAgICAgICAgICAgcHJpbnQoZid7TkVPTl9QSU5LfVshXXtSRVNFVH0gTm8gZmlsZSBwYXRoIHByb3ZpZGVkLicpCiAgICAgICAgICAgIGlucHV0KGYne05FT05fQ1lBTn1bKl17UkVTRVR9IFByZXNzIEVudGVyIHRvIGNvbnRpbnVlLi4ue1JFU0VUfScpCiAgICAgICAgICAgIHJldHVybgogICAgICAgIAogICAgICAgIGlmIG9zLnBhdGguZXhpc3RzKGZpbGVfcGF0aCk6CiAgICAgICAgICAgIHdpdGggb3BlbihmaWxlX3BhdGgsICdyJykgYXMgZmlsZToKICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzID0gW2xpbmUuc3RyaXAoKSBmb3IgbGluZSBpbiBmaWxlIGlmIGxpbmUuc3RyaXAoKSBhbmQgJzonIGluIGxpbmVdCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcHJpbnQoZid7TkVPTl9QSU5LfVshXXtSRVNFVH0gRmlsZSBub3QgZm91bmQuJykKICAgICAgICAgICAgaW5wdXQoZid7TkVPTl9DWUFOfVsqXXtSRVNFVH0gUHJlc3MgRW50ZXIgdG8gY29udGludWUuLi57UkVTRVR9JykKICAgICAgICAgICAgcmV0dXJuCiAgICAKICAgIGVsaWYgY2hvaWNlID09ICcyJzoKICAgICAgICBjcmVkX2lucHV0ID0gaW5wdXQoZiJ7TkVPTl9HUkVFTn3inqQgRW50ZXIgY3JlZGVudGlhbHMgKGVtYWlsOnBhc3N3b3JkKToge1JFU0VUfSIpLnN0cmlwKCkKICAgICAgICBpZiAnOicgbm90IGluIGNyZWRfaW5wdXQ6CiAgICAgICAgICAgIHByaW50KGYne05FT05fUElOS31bIV17UkVTRVR9IEludmFsaWQgZm9ybWF0LiBVc2UgZW1haWw6cGFzc3dvcmQnKQogICAgICAgICAgICBpbnB1dChmJ3tORU9OX0NZQU59Wypde1JFU0VUfSBQcmVzcyBFbnRlciB0byBjb250aW51ZS4uLntSRVNFVH0nKQogICAgICAgICAgICByZXR1cm4KICAgICAgICBjcmVkZW50aWFscyA9IFtjcmVkX2lucHV0XQogICAgZWxzZToKICAgICAgICBwcmludChmJ3tORU9OX1BJTkt9WyFde1JFU0VUfSBJbnZhbGlkIG9wdGlvbi4nKQogICAgICAgIGlucHV0KGYne05FT05fQ1lBTn1bKl17UkVTRVR9IFByZXNzIEVudGVyIHRvIGNvbnRpbnVlLi4ue1JFU0VUfScpCiAgICAgICAgcmV0dXJuCiAgICAKICAgIGlmIG5vdCBjcmVkZW50aWFsczoKICAgICAgICBwcmludChmJ3tORU9OX1BJTkt9WyFde1JFU0VUfSBObyBjcmVkZW50aWFscyBmb3VuZC4nKQogICAgICAgIGlucHV0KGYne05FT05fQ1lBTn1bKl17UkVTRVR9IFByZXNzIEVudGVyIHRvIGNvbnRpbnVlLi4ue1JFU0VUfScpCiAgICAgICAgcmV0dXJuCiAgICAKICAgIHByaW50KGYne05FT05fR1JFRU59Wypde1JFU0VUfSBFeHRyYWN0aW5nIGNvb2tpZXMgZnJvbSB7TkVPTl9DWUFOfXtsZW4oY3JlZGVudGlhbHMpfXtSRVNFVH0gYWNjb3VudHMuLi4nKQogICAgcHJpbnQoZid7TkVPTl9DWUFOfeKVlOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVl3tSRVNFVH0nKQogICAgCiAgICBleHRyYWN0ZWRfY29va2llcyA9IFtdCiAgICBmb3IgaWR4LCBjcmVkIGluIGVudW1lcmF0ZShjcmVkZW50aWFscywgMSk6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBlbWFpbCwgcGFzc3dvcmQgPSBjcmVkLnNwbGl0KCc6JywgMSkKICAgICAgICAgICAgcmVzdWx0ID0gY29udmVyX3RvX2Nvb2tpZShlbWFpbC5zdHJpcCgpLCBwYXNzd29yZC5zdHJpcCgpLCB0aW1lb3V0PTE1LCByZXRyaWVzPTIpCiAgICAgICAgICAgIAogICAgICAgICAgICBpZiByZXN1bHRbJ2EnXToKICAgICAgICAgICAgICAgIGV4dHJhY3RlZF9jb29raWVzLmFwcGVuZChyZXN1bHRbJ2InXSkKICAgICAgICAgICAgICAgIHByaW50KGYne05FT05fR1JFRU59W3tpZHh9XSDinJN7UkVTRVR9IENvb2tpZSBleHRyYWN0ZWQgZm9yIHtORU9OX0NZQU59e2VtYWlsfXtSRVNFVH0nKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcHJpbnQoZid7TkVPTl9QSU5LfVt7aWR4fV0g4pyXe1JFU0VUfSB7cmVzdWx0WyJiIl19JykKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIHByaW50KGYne05FT05fUElOS31be2lkeH1dIOKcl3tSRVNFVH0gRXJyb3I6IHtzdHIoZSlbOjUwXX0nKQogICAgCiAgICBpZiBleHRyYWN0ZWRfY29va2llczoKICAgICAgICBwcmludChmJ3tORU9OX0dSRUVOfVsqXXtSRVNFVH0gVmFsaWRhdGluZyBjb29raWVzLi4uJykKICAgICAgICB2YWxpZF9jb29raWVzID0gW10KICAgICAgICBmb3IgaWR4LCBjb29raWUgaW4gZW51bWVyYXRlKGV4dHJhY3RlZF9jb29raWVzLCAxKToKICAgICAgICAgICAgaWYgdmFsaWRhdGVfY29va2llKGNvb2tpZSk6CiAgICAgICAgICAgICAgICB2YWxpZF9jb29raWVzLmFwcGVuZChjb29raWUpCiAgICAgICAgICAgICAgICBwcmludChmJ3tORU9OX0dSRUVOfVt7aWR4fV0g4pyTe1JFU0VUfSBDb29raWUgaXMgdmFsaWQnKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcHJpbnQoZid7TkVPTl9QSU5LfVt7aWR4fV0g4pyXe1JFU0VUfSBDb29raWUgaXMgaW52YWxpZCBvciBleHBpcmVkJykKICAgICAgICAKICAgICAgICBpZiB2YWxpZF9jb29raWVzOgogICAgICAgICAgICB3aXRoIG9wZW4oQ09PS0lFU19GSUxFLCAnYScpIGFzIGZpbGU6CiAgICAgICAgICAgICAgICBmb3IgY29va2llIGluIHZhbGlkX2Nvb2tpZXM6CiAgICAgICAgICAgICAgICAgICAgZmlsZS53cml0ZShjb29raWUgKyAnXG4nKQogICAgICAgICAgICBwcmludChmJ3tORU9OX0NZQU594pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWde1JFU0VUfScpCiAgICAgICAgICAgIHByaW50KGYne05FT05fR1JFRU59W+Kck117UkVTRVR9IHtORU9OX0NZQU59e2xlbih2YWxpZF9jb29raWVzKX0ve2xlbihleHRyYWN0ZWRfY29va2llcyl9e1JFU0VUfSB2YWxpZCBjb29raWVzIHNhdmVkIHRvIHtORU9OX0dSRUVOfXtDT09LSUVTX0ZJTEV9e1JFU0VUfScpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcHJpbnQoZid7TkVPTl9DWUFOfeKVmuKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVnXtSRVNFVH0nKQogICAgICAgICAgICBwcmludChmJ3tORU9OX1BJTkt9WyFde1JFU0VUfSBObyB2YWxpZCBjb29raWVzIHRvIHNhdmUuJykKICAgIGVsc2U6CiAgICAgICAgcHJpbnQoZid7TkVPTl9DWUFOfeKVmuKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVnXtSRVNFVH0nKQogICAgICAgIHByaW50KGYne05FT05fUElOS31bIV17UkVTRVR9IE5vIGNvb2tpZXMgZXh0cmFjdGVkLicpCiAgICAKICAgIGlucHV0KGYne05FT05fQ1lBTn1bKl17UkVTRVR9IFByZXNzIEVudGVyIHRvIGNvbnRpbnVlLi4ue1JFU0VUfScpCgpkZWYgdmFsaWRhdGVfY29va2llKGNvb2tpZSk6CiAgICAiIiJDaGVjayBpZiBhIGNvb2tpZSBpcyB2YWxpZCBieSB2ZXJpZnlpbmcgaXQgaGFzIHJlcXVpcmVkIEZhY2Vib29rIHNlc3Npb24gY29va2llcy4iIiIKICAgIHRyeToKICAgICAgICAjIENoZWNrIGlmIGNvb2tpZSBjb250YWlucyByZXF1aXJlZCBsb2dpbiBpbmRpY2F0b3JzCiAgICAgICAgcmVxdWlyZWRfY29va2llcyA9IFsnY191c2VyJywgJ3hzJ10KICAgICAgICBoYXNfcmVxdWlyZWQgPSBhbGwoZid7cmN9PScgaW4gY29va2llIGZvciByYyBpbiByZXF1aXJlZF9jb29raWVzKQogICAgICAgIAogICAgICAgIGlmIG5vdCBoYXNfcmVxdWlyZWQ6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQogICAgICAgIAogICAgICAgIGhlYWRlcnMgPSB7CiAgICAgICAgICAgICdhdXRob3JpdHknOiAnYnVzaW5lc3MuZmFjZWJvb2suY29tJywKICAgICAgICAgICAgJ2FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgnLAogICAgICAgICAgICAnY29va2llJzogY29va2llLAogICAgICAgICAgICAndXNlci1hZ2VudCc6ICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYnCiAgICAgICAgfQogICAgICAgIHJlc3BvbnNlID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2J1c2luZXNzLmZhY2Vib29rLmNvbS9jb250ZW50X21hbmFnZW1lbnQnLCBoZWFkZXJzPWhlYWRlcnMsIHRpbWVvdXQ9NSkKICAgICAgICAKICAgICAgICAjIENoZWNrIGlmIHJlc3BvbnNlIGluZGljYXRlcyBsb2dnZWQtaW4gc3RhdGUKICAgICAgICBpZiByZXNwb25zZS5zdGF0dXNfY29kZSA9PSAyMDA6CiAgICAgICAgICAgIGlmICdFQUFHJyBpbiByZXNwb25zZS50ZXh0OgogICAgICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICAgICAgZWxpZiAnbG9naW4nIGluIHJlc3BvbnNlLnRleHQubG93ZXIoKSBvciAnY2hlY2twb2ludCcgaW4gcmVzcG9uc2UudGV4dC5sb3dlcigpOgogICAgICAgICAgICAgICAgcmV0dXJuIEZhbHNlCiAgICAgICAgCiAgICAgICAgcmV0dXJuIEZhbHNlCiAgICBleGNlcHQ6CiAgICAgICAgcmV0dXJuIEZhbHNlCgpkZWYgbWVudSgpOgogICAgY2xlYXIoKQogICAgcHJpbnQoZiIiIntORU9OX1BJTkt9CuKVlOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVlwrilZEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilZEK4pWRICAgIOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWiOKWiOKWiOKWiOKWiOKVlyDilojilojilojilZcgICDilojilojilojilZfilojilojilojilZcgICDilojilojilojilZfilojilojilZcgICDilojilojilZfilojilojilojilojilojilojilojilZcgICAgIOKVkQrilZEgICAg4paI4paI4pWU4pWQ4pWQ4pWQ4pWQ4pWd4paI4paI4pWU4pWQ4pWQ4paI4paI4pWX4paI4paI4paI4paI4pWXIOKWiOKWiOKWiOKWiOKVkeKWiOKWiOKWiOKWiOKVlyDilojilojilojilojilZHilZrilojilojilZcg4paI4paI4pWU4pWd4paI4paI4pWU4pWQ4pWQ4pWQ4pWQ4pWdICAgIOKVkQrilZEgICAg4paI4paI4paI4paI4paI4paI4paI4pWX4paI4paI4paI4paI4paI4paI4paI4pWR4paI4paI4pWU4paI4paI4paI4paI4pWU4paI4paI4pWR4paI4paI4pWU4paI4paI4paI4paI4pWU4paI4paI4pWRIOKVmuKWiOKWiOKWiOKWiOKVlOKVnSDilojilojilojilojilojilojilojilZcgICAg4pWRCuKVkSAgICDilZrilZDilZDilZDilZDilojilojilZHilojilojilZTilZDilZDilojilojilZHilojilojilZHilZrilojilojilZTilZ3ilojilojilZHilojilojilZHilZrilojilojilZTilZ3ilojilojilZEgIOKVmuKWiOKWiOKVlOKVnSAg4pWa4pWQ4pWQ4pWQ4pWQ4paI4paI4pWRICAgIOKVkQrilZEgICAg4paI4paI4paI4paI4paI4paI4paI4pWR4paI4paI4pWRICDilojilojilZHilojilojilZEg4pWa4pWQ4pWdIOKWiOKWiOKVkeKWiOKWiOKVkSDilZrilZDilZ0g4paI4paI4pWRICAg4paI4paI4pWRICAg4paI4paI4paI4paI4paI4paI4paI4pWRICAgIOKVkQrilZEgICAg4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWd4pWa4pWQ4pWdICDilZrilZDilZ3ilZrilZDilZ0gICAgIOKVmuKVkOKVneKVmuKVkOKVnSAgICAg4pWa4pWQ4pWdICAg4pWa4pWQ4pWdICAg4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWdICAgIOKVkQrilZEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilZEK4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWdCgp7TkVPTl9DWUFOfeKVlOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVl3tSRVNFVH0Ke05FT05fQ1lBTn3ilZF7UkVTRVR9IHtORU9OX0dSRUVOfVsxXXtSRVNFVH0g4pqhIEZhc3QgTW9kZSAgICAgIHtORU9OX0dSRUVOfVNoYXJlIHBvc3RzIGF0IGhpZ2ggc3BlZWR7UkVTRVR9ICAgICAgICAgICAgICAge05FT05fQ1lBTn3ilZF7UkVTRVR9CntORU9OX0NZQU594pWRe1JFU0VUfSB7TkVPTl9HUkVFTn1bMl17UkVTRVR9IPCfkIwgU2xvdyBNb2RlICAgICAge05FT05fR1JFRU59U2hhcmUgd2l0aCBkZWxheXMgKHNhZmVyKXtSRVNFVH0gICAgICAgICAgICAgICB7TkVPTl9DWUFOfeKVkXtSRVNFVH0Ke05FT05fQ1lBTn3ilZF7UkVTRVR9IHtORU9OX0dSRUVOfVszXXtSRVNFVH0g8J+UkSBFeHRyYWN0IFRva2VuICB7TkVPTl9HUkVFTn1FeHRyYWN0IHRva2VucyBmcm9tIGNvb2tpZXN7UkVTRVR9ICAgICAgICAgICAgIHtORU9OX0NZQU594pWRe1JFU0VUfQp7TkVPTl9DWUFOfeKVkXtSRVNFVH0ge05FT05fR1JFRU59WzRde1JFU0VUfSDwn42qIEV4dHJhY3QgQ29va2llIHtORU9OX0dSRUVOfUdlbmVyYXRlIGNvb2tpZXMgZnJvbSBhY2NvdW50c3tSRVNFVH0gICAgICAgICAge05FT05fQ1lBTn3ilZF7UkVTRVR9CntORU9OX0NZQU594pWRe1JFU0VUfSB7TkVPTl9HUkVFTn1bNV17UkVTRVR9IPCfl5HvuI8gIFJlbW92ZSBEZWFkICAgIHtORU9OX0dSRUVOfVJlbW92ZSBpbnZhbGlkIGNvb2tpZS90b2tlbnN7UkVTRVR9ICAgICAgICAgICB7TkVPTl9DWUFOfeKVkXtSRVNFVH0Ke05FT05fQ1lBTn3ilZF7UkVTRVR9IHtORU9OX0dSRUVOfVs2XXtSRVNFVH0g8J+UhCBSZXNldCBBbGwgICAgICB7TkVPTl9HUkVFTn1DbGVhciBhbGwgZmlsZXMgJiBzdGFydCBmcmVzaHtSRVNFVH0gICAgICAgICAgIHtORU9OX0NZQU594pWRe1JFU0VUfQp7TkVPTl9DWUFOfeKVmuKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVnXtSRVNFVH0Ke1JFU0VUfSIiIikKICAgIGNob2ljZSA9IGlucHV0KGYie05FT05fR1JFRU594p6kIFNlbGVjdCBtb2RlOiB7UkVTRVR9IikKICAgIHJldHVybiBjaG9pY2UKCmRlZiBzaGFyKCk6CiAgICBjaG9pY2UgPSBtZW51KCkKICAgIAogICAgaWYgY2hvaWNlID09ICczJzoKICAgICAgICBleHRyYWN0X3Rva2VuX21lbnUoKQogICAgICAgIHJldHVybgogICAgZWxpZiBjaG9pY2UgPT0gJzQnOgogICAgICAgIGV4dHJhY3RfY29va2llc19tZW51KCkKICAgICAgICByZXR1cm4KICAgIGVsaWYgY2hvaWNlID09ICc1JzoKICAgICAgICByZW1vdmVfZGVhZF9jb29raWVzKCkKICAgICAgICByZXR1cm4KICAgIGVsaWYgY2hvaWNlID09ICc2JzoKICAgICAgICByZXNldF9hbGxfZmlsZXMoKQogICAgICAgIHJldHVybgogICAgCiAgICBwcmludChmIiIie05FT05fUElOS30K4pWU4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWXCuKVkSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKVkQrilZEgICAgIOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWiOKWiOKVlyAg4paI4paI4pWXIOKWiOKWiOKWiOKWiOKWiOKVlyDilojilojilojilojilojilojilZcg4paI4paI4paI4paI4paI4paI4paI4pWXIOKWiOKWiOKWiOKWiOKWiOKWiOKVlyAgICAgICAgICDilZEK4pWRICAgICDilojilojilZTilZDilZDilZDilZDilZ3ilojilojilZEgIOKWiOKWiOKVkeKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVl+KWiOKWiOKVlOKVkOKVkOKWiOKWiOKVl+KWiOKWiOKVlOKVkOKVkOKVkOKVkOKVneKWiOKWiOKVlOKVkOKVkOKVkOKVkOKVnSAgICAgICAgICDilZEK4pWRICAgICDilojilojilojilojilojilojilojilZfilojilojilojilojilojilojilojilZHilojilojilojilojilojilojilojilZHilojilojilojilojilojilojilZTilZ3ilojilojilojilojilojilZcgIOKWiOKWiOKVkSAgICAgICAgICAgICAgIOKVkQrilZEgICAgIOKVmuKVkOKVkOKVkOKVkOKWiOKWiOKVkeKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVkeKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVkeKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVl+KWiOKWiOKVlOKVkOKVkOKVnSAg4paI4paI4pWRICAgICAgICAgICAgICAg4pWRCuKVkSAgICAg4paI4paI4paI4paI4paI4paI4paI4pWR4paI4paI4pWRICDilojilojilZHilojilojilZEgIOKWiOKWiOKVkeKWiOKWiOKVkSAg4paI4paI4pWR4paI4paI4paI4paI4paI4paI4paI4pWX4pWa4paI4paI4paI4paI4paI4paI4pWXICAgICAgICAgIOKVkQrilZEgICAgIOKVmuKVkOKVkOKVkOKVkOKVkOKVkOKVneKVmuKVkOKVnSAg4pWa4pWQ4pWd4pWa4pWQ4pWdICDilZrilZDilZ3ilZrilZDilZ0gIOKVmuKVkOKVneKVmuKVkOKVkOKVkOKVkOKVkOKVkOKVnSDilZrilZDilZDilZDilZDilZDilZ0gICAgICAgICAg4pWRCuKVkSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKVkQrilZEgICAgICAgIHtORU9OX0NZQU59Q29kZWQgQnk6IENBU1dFTEwgQ0FMRVYgfCBQeXRob257TkVPTl9QSU5LfSAgICAgICAgICAgICAgICAgICAgICAg4pWRCuKVkSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKVkQrilZrilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZ0Ke1JFU0VUfSIiIikKICAgIAogICAgYWxsID0gbG9hZF90b2tlbnNfZnJvbV9maWxlKCkKICAgIAogICAgaWYgbm90IGFsbDoKICAgICAgICBwcmludChmJ3tORU9OX1BJTkt9WyFde1JFU0VUfSBObyB0b2tlbnMgZm91bmQuIEV4dHJhY3QgdG9rZW5zIGZpcnN0IHVzaW5nIG9wdGlvbiAzLicpCiAgICAgICAgaW5wdXQoZid7TkVPTl9DWUFOfVsqXXtSRVNFVH0gUHJlc3MgRW50ZXIgdG8gY29udGludWUuLi57UkVTRVR9JykKICAgICAgICByZXR1cm4KICAgIAogICAgaWRfc2hhcmUgPSBpbnB1dChmIntORU9OX0dSRUVOfeKepCBFbnRlciBQb3N0IElEOiB7UkVTRVR9IikKICAgIHRvdGFsX3NoYXJlID0gaW50KGlucHV0KGYie05FT05fR1JFRU594p6kIEhvdyBNYW55IFNoYXJlczoge1JFU0VUfSIpKQogICAgZGVsYXkgPSBpbnQoaW5wdXQoZiJ7TkVPTl9HUkVFTn3inqQgRGVsYXkgQmV0d2VlbiBTaGFyZXMgKHNlY29uZHMpOiB7UkVTRVR9IikpCiAgICBwcmludChmJ3tORU9OX0NZQU594pWU4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWXe1JFU0VUfScpCiAgICAKICAgIHRvdGFsX2xpdmUgPSBsZW4oYWxsKQogICAgcHJpbnQoZid7TkVPTl9HUkVFTn1bK117UkVTRVR9IExvYWRlZDoge05FT05fQ1lBTn17dG90YWxfbGl2ZX17UkVTRVR9IFRva2VucycpCiAgICBwcmludChmJ3tORU9OX0NZQU594pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWde1JFU0VUfScpCiAgICAKICAgIGZhaWxlZF90b2tlbnMgPSBbXQogICAgc3VjY2Vzc2Z1bF9zaGFyZXMgPSAwCiAgICBzdHQgPSAwCiAgICAKICAgIGlmIGNob2ljZSA9PSAnMSc6CiAgICAgICAgd2l0aCBUaHJlYWRQb29sRXhlY3V0b3IobWF4X3dvcmtlcnM9MTApIGFzIGV4ZWN1dG9yOgogICAgICAgICAgICBmdXR1cmVzID0ge30KICAgICAgICAgICAgZm9yIF8gaW4gcmFuZ2UodG90YWxfc2hhcmUpOgogICAgICAgICAgICAgICAgdG9rZW5fZW50cnkgPSBhbGxbc3R0ICUgdG90YWxfbGl2ZV0KICAgICAgICAgICAgICAgIHN0dCArPSAxCiAgICAgICAgICAgICAgICBjb29raWVfdG9rZW4gPSAnfCcuam9pbih0b2tlbl9lbnRyeS5zcGxpdCgnfCcpWzE6XSkKICAgICAgICAgICAgICAgIGZ1dHVyZSA9IGV4ZWN1dG9yLnN1Ym1pdChzaGFyZSwgY29va2llX3Rva2VuLCBpZF9zaGFyZSkKICAgICAgICAgICAgICAgIGZ1dHVyZXNbZnV0dXJlXSA9ICh0b2tlbl9lbnRyeSwgY29va2llX3Rva2VuKQogICAgICAgICAgICAgICAgcHJpbnQoZid7TkVPTl9HUkVFTn1b4pqhXXtSRVNFVH0gQXR0ZW1wdGVkOiB7TkVPTl9DWUFOfXtzdHR9L3t0b3RhbF9zaGFyZX17UkVTRVR9JywgZW5kPSdccicpCiAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKDAuMSkgICMgU21hbGwgZGVsYXkgdG8gYXZvaWQgb3ZlcndoZWxtaW5nIHRoZSBBUEkKICAgICAgICAgICAgCiAgICAgICAgICAgIGZvciBmdXR1cmUgaW4gZnV0dXJlczoKICAgICAgICAgICAgICAgIHRva2VuX2VudHJ5LCBjb29raWVfdG9rZW4gPSBmdXR1cmVzW2Z1dHVyZV0KICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZ1dHVyZS5yZXN1bHQoKQogICAgICAgICAgICAgICAgaWYgcmVzdWx0OgogICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3NmdWxfc2hhcmVzICs9IDEKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgZmFpbGVkX3Rva2Vucy5hcHBlbmQodG9rZW5fZW50cnkpCiAgICBlbHNlOgogICAgICAgIHN0dCA9IDAKICAgICAgICB3aGlsZSBzdHQgPCB0b3RhbF9zaGFyZToKICAgICAgICAgICAgZm9yIHRva2VuX2VudHJ5IGluIGFsbDoKICAgICAgICAgICAgICAgIGlmIHN0dCA+PSB0b3RhbF9zaGFyZToKICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgc3R0ID0gc3R0ICsgMQogICAgICAgICAgICAgICAgY29va2llX3Rva2VuID0gJ3wnLmpvaW4odG9rZW5fZW50cnkuc3BsaXQoJ3wnKVsxOl0pCiAgICAgICAgICAgICAgICByZXN1bHQgPSBzaGFyZShjb29raWVfdG9rZW4sIGlkX3NoYXJlKQogICAgICAgICAgICAgICAgaWYgcmVzdWx0OgogICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3NmdWxfc2hhcmVzICs9IDEKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgZmFpbGVkX3Rva2Vucy5hcHBlbmQodG9rZW5fZW50cnkpCiAgICAgICAgICAgICAgICBwcmludChmJ3tORU9OX0dSRUVOfVvwn5CMXXtSRVNFVH0gQXR0ZW1wdGVkOiB7TkVPTl9DWUFOfXtzdHR9L3t0b3RhbF9zaGFyZX17UkVTRVR9JywgZW5kPSdccicpCiAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKGRlbGF5KQogICAgCiAgICBpZiBmYWlsZWRfdG9rZW5zOgogICAgICAgIHJlbWFpbmluZ190b2tlbnMgPSBbdG9rZW4gZm9yIHRva2VuIGluIGFsbCBpZiB0b2tlbiBub3QgaW4gZmFpbGVkX3Rva2Vuc10KICAgICAgICB3aXRoIG9wZW4oVE9LRU5TX0ZJTEUsICd3JykgYXMgZmlsZToKICAgICAgICAgICAgZm9yIHRva2VuIGluIHJlbWFpbmluZ190b2tlbnM6CiAgICAgICAgICAgICAgICBmaWxlLndyaXRlKHRva2VuICsgJ1xuJykKICAgIAogICAgcHJpbnQoZidcbntORU9OX0NZQU594pWU4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWXe1JFU0VUfScpCiAgICBwcmludChmJ3tORU9OX0NZQU594pWRe1JFU0VUfSB7TkVPTl9HUkVFTn3inJMgU3VjY2Vzc2Z1bCBTaGFyZXN7UkVTRVR9OiB7TkVPTl9HUkVFTn17c3VjY2Vzc2Z1bF9zaGFyZXN9e1JFU0VUfScgKyAnICcgKiAoNTAgLSBsZW4oc3RyKHN1Y2Nlc3NmdWxfc2hhcmVzKSkpICsgZid7TkVPTl9DWUFOfeKVkXtSRVNFVH0nKQogICAgcHJpbnQoZid7TkVPTl9DWUFOfeKVkXtSRVNFVH0ge05FT05fUElOS33inJcgRmFpbGVkIFNoYXJlc3tSRVNFVH06IHtORU9OX1BJTkt9e2xlbihmYWlsZWRfdG9rZW5zKX17UkVTRVR9JyArICcgJyAqICg1NSAtIGxlbihzdHIobGVuKGZhaWxlZF90b2tlbnMpKSkpICsgZid7TkVPTl9DWUFOfeKVkXtSRVNFVH0nKQogICAgcHJpbnQoZid7TkVPTl9DWUFOfeKVkXtSRVNFVH0ge05FT05fR1JFRU59ISBSZW1haW5pbmcgVG9rZW5ze1JFU0VUfToge05FT05fR1JFRU59e2xlbihhbGwpIC0gbGVuKGZhaWxlZF90b2tlbnMpfXtSRVNFVH0nICsgJyAnICogKDUwIC0gbGVuKHN0cihsZW4oYWxsKSAtIGxlbihmYWlsZWRfdG9rZW5zKSkpKSArIGYne05FT05fQ1lBTn3ilZF7UkVTRVR9JykKICAgIHByaW50KGYne05FT05fQ1lBTn3ilZrilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZ17UkVTRVR9JykKICAgIAogICAgZ29tZV90b2tlbi5jbGVhcigpCiAgICBpbnB1dChmJ3tORU9OX0NZQU59Wypde1JFU0VUfSBQcmVzcyBFbnRlciB0byBjb250aW51ZS4uLntSRVNFVH0nKQoKZGVmIHNoYXJlKGNvb2tpZV90b2tlbiwgcG9zdF9pZCk6CiAgICAiIiJTaGFyZSBhIHBvc3QgdXNpbmcgdGhlIHByb3ZpZGVkIHRva2VuLiIiIgogICAgdHJ5OgogICAgICAgIHBhcnRzID0gY29va2llX3Rva2VuLnNwbGl0KCd8JykKICAgICAgICBpZiBsZW4ocGFydHMpIDwgMjoKICAgICAgICAgICAgcHJpbnQoZid7TkVPTl9QSU5LfVshXXtSRVNFVH0gSW52YWxpZCB0b2tlbiBmb3JtYXQnKQogICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgICAgICAKICAgICAgICBjb29raWUgPSBwYXJ0c1swXQogICAgICAgIHRva2VuID0gcGFydHNbMV0KICAgICAgICAKICAgICAgICBoZWFkZXJzID0gewogICAgICAgICAgICAnYWNjZXB0JzogJyovKicsCiAgICAgICAgICAgICdhY2NlcHQtZW5jb2RpbmcnOiAnZ3ppcCwgZGVmbGF0ZScsCiAgICAgICAgICAgICdjb25uZWN0aW9uJzogJ2tlZXAtYWxpdmUnLAogICAgICAgICAgICAnY29udGVudC1sZW5ndGgnOiAnMCcsCiAgICAgICAgICAgICdjb29raWUnOiBjb29raWUsCiAgICAgICAgICAgICdob3N0JzogJ2dyYXBoLmZhY2Vib29rLmNvbScKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5wb3N0KAogICAgICAgICAgICBmJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lL2ZlZWQ/bGluaz1odHRwczovL20uZmFjZWJvb2suY29tL3twb3N0X2lkfSZwdWJsaXNoZWQ9MCZhY2Nlc3NfdG9rZW49e3Rva2VufScsCiAgICAgICAgICAgIGhlYWRlcnM9aGVhZGVycywKICAgICAgICAgICAgdGltZW91dD0xMAogICAgICAgICkKICAgICAgICAKICAgICAgICBpZiByZXNwb25zZS5zdGF0dXNfY29kZSA9PSAyMDA6CiAgICAgICAgICAgIHByaW50KGYne05FT05fR1JFRU59W+Kck117UkVTRVR9IFNoYXJlIHN1Y2Nlc3NmdWwnKQogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHByaW50KGYne05FT05fUElOS31b4pyXXXtSRVNFVH0gU2hhcmUgZmFpbGVkOiB7cmVzcG9uc2Uuc3RhdHVzX2NvZGV9JykKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgcHJpbnQoZid7TkVPTl9QSU5LfVshXXtSRVNFVH0gRXJyb3I6IHtzdHIoZSlbOjUwXX0nKQogICAgICAgIHJldHVybiBGYWxzZSAgICAKZGVmIHJlbW92ZV9kZWFkX2Nvb2tpZXMoKToKICAgICIiIlJlbW92ZSBkZWFkIGNvb2tpZXMgYW5kIHRva2VucyBieSB0ZXN0aW5nIHRoZW0uIiIiCiAgICBjbGVhcigpCiAgICBwcmludChmIiIie05FT05fUElOS30K4pWU4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWXCuKVkSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKVkQrilZEgICAg4paI4paI4paI4paI4paI4paI4pWXIOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWiOKWiOKWiOKVlyAgIOKWiOKWiOKWiOKVlyDilojilojilojilojilojilojilZcg4paI4paI4pWXICAg4paI4paI4pWX4paI4paI4paI4paI4paI4paI4paI4pWXICAgICAg4pWRCuKVkSAgICDilojilojilZTilZDilZDilojilojilZfilojilojilZTilZDilZDilZDilZDilZ3ilojilojilojilojilZcg4paI4paI4paI4paI4pWR4paI4paI4pWU4pWQ4pWQ4pWQ4paI4paI4pWX4paI4paI4pWRICAg4paI4paI4pWR4paI4paI4pWU4pWQ4pWQ4pWQ4pWQ4pWdICAgICAg4pWRCuKVkSAgICDilojilojilojilojilojilojilZTilZ3ilojilojilojilojilojilZcgIOKWiOKWiOKVlOKWiOKWiOKWiOKWiOKVlOKWiOKWiOKVkeKWiOKWiOKVkSAgIOKWiOKWiOKVkeKWiOKWiOKVkSAgIOKWiOKWiOKVkeKWiOKWiOKWiOKWiOKWiOKWiOKWiOKVlyAgICAgIOKVkQrilZEgICAg4paI4paI4pWU4pWQ4pWQ4paI4paI4pWX4paI4paI4pWU4pWQ4pWQ4pWdICDilojilojilZHilZrilojilojilZTilZ3ilojilojilZHilojilojilZEgICDilojilojilZHilZrilojilojilZcg4paI4paI4pWU4pWd4pWa4pWQ4pWQ4pWQ4pWQ4paI4paI4pWRICAgICAg4pWRCuKVkSAgICDilojilojilZEgIOKWiOKWiOKVkeKWiOKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWiOKWiOKVkSDilZrilZDilZ0g4paI4paI4pWR4pWa4paI4paI4paI4paI4paI4paI4pWU4pWdIOKVmuKWiOKWiOKWiOKWiOKVlOKVnSDilojilojilojilojilojilojilojilZEgICAgICDilZEK4pWRICAgIOKVmuKVkOKVnSAg4pWa4pWQ4pWd4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWd4pWa4pWQ4pWdICAgICDilZrilZDilZ0g4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWdICAg4pWa4pWQ4pWQ4pWQ4pWdICDilZrilZDilZDilZDilZDilZDilZDilZ0gICAgICDilZEK4pWRICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pWRCuKVkSAgICAge05FT05fQ1lBTn1SZW1vdmUgRGVhZCBDb29raWVzICYgVG9rZW5ze05FT05fUElOS30gICAgICAgIOKVkQrilZEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilZEK4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWdCntSRVNFVH0iIiIpCiAgICAKICAgIGFsbF90b2tlbnMgPSBsb2FkX3Rva2Vuc19mcm9tX2ZpbGUoKQogICAgCiAgICBpZiBub3QgYWxsX3Rva2VuczoKICAgICAgICBwcmludChmJ3tORU9OX1BJTkt9WyFde1JFU0VUfSBObyB0b2tlbnMgZm91bmQuJykKICAgICAgICBpbnB1dChmJ3tORU9OX0NZQU59Wypde1JFU0VUfSBQcmVzcyBFbnRlciB0byBjb250aW51ZS4uLntSRVNFVH0nKQogICAgICAgIHJldHVybgogICAgCiAgICBwcmludChmJ3tORU9OX0dSRUVOfVsqXXtSRVNFVH0gVGVzdGluZyB7TkVPTl9DWUFOfXtsZW4oYWxsX3Rva2Vucyl9e1JFU0VUfSB0b2tlbnMuLi4nKQogICAgcHJpbnQoZid7TkVPTl9DWUFOfeKVlOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVl3tSRVNFVH0nKQogICAgCiAgICB2YWxpZF90b2tlbnMgPSBbXQogICAgZGVhZF9jb3VudCA9IDAKICAgIAogICAgZm9yIGlkeCwgdG9rZW5fZW50cnkgaW4gZW51bWVyYXRlKGFsbF90b2tlbnMsIDEpOgogICAgICAgIHRyeToKICAgICAgICAgICAgcGFydHMgPSB0b2tlbl9lbnRyeS5zcGxpdCgnfCcpCiAgICAgICAgICAgIGlmIGxlbihwYXJ0cykgPCAyOgogICAgICAgICAgICAgICAgZGVhZF9jb3VudCArPSAxCiAgICAgICAgICAgICAgICBwcmludChmJ3tORU9OX0dSRUVOfVt7aWR4fV17UkVTRVR9IHtORU9OX1BJTkt94pyXe1JFU0VUfSBJbnZhbGlkIGZvcm1hdCcpCiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAKICAgICAgICAgICAgY29va2llID0gcGFydHNbMF0KICAgICAgICAgICAgCiAgICAgICAgICAgIGhlYWRlcnMgPSB7CiAgICAgICAgICAgICAgICAnYXV0aG9yaXR5JzogJ2J1c2luZXNzLmZhY2Vib29rLmNvbScsCiAgICAgICAgICAgICAgICAnYWNjZXB0JzogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCcsCiAgICAgICAgICAgICAgICAnY29va2llJzogY29va2llLAogICAgICAgICAgICAgICAgJ3VzZXItYWdlbnQnOiAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2JwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJlc3BvbnNlID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2J1c2luZXNzLmZhY2Vib29rLmNvbS9jb250ZW50X21hbmFnZW1lbnQnLCBoZWFkZXJzPWhlYWRlcnMsIHRpbWVvdXQ9NSkKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIHJlc3BvbnNlLnN0YXR1c19jb2RlID09IDIwMCBhbmQgJ0VBQUcnIGluIHJlc3BvbnNlLnRleHQ6CiAgICAgICAgICAgICAgICB2YWxpZF90b2tlbnMuYXBwZW5kKHRva2VuX2VudHJ5KQogICAgICAgICAgICAgICAgcHJpbnQoZid7TkVPTl9HUkVFTn1be2lkeH1dIOKck3tSRVNFVH0gVG9rZW4gaXMgdmFsaWQnKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgZGVhZF9jb3VudCArPSAxCiAgICAgICAgICAgICAgICBwcmludChmJ3tORU9OX0dSRUVOfVt7aWR4fV17UkVTRVR9IHtORU9OX1BJTkt94pyXe1JFU0VUfSBUb2tlbiBpcyBkZWFkJykKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIGRlYWRfY291bnQgKz0gMQogICAgICAgICAgICBwcmludChmJ3tORU9OX0dSRUVOfVt7aWR4fV17UkVTRVR9IHtORU9OX1BJTkt94pyXe1JFU0VUfSBFcnJvciB0ZXN0aW5nIHRva2VuJykKICAgIAogICAgaWYgdmFsaWRfdG9rZW5zOgogICAgICAgIHdpdGggb3BlbihUT0tFTlNfRklMRSwgJ3cnKSBhcyBmaWxlOgogICAgICAgICAgICBmb3IgdG9rZW4gaW4gdmFsaWRfdG9rZW5zOgogICAgICAgICAgICAgICAgZmlsZS53cml0ZSh0b2tlbiArICdcbicpCiAgICAgICAgcHJpbnQoZid7TkVPTl9DWUFOfeKVmuKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVnXtSRVNFVH0nKQogICAgICAgIHByaW50KGYne05FT05fR1JFRU59W+Kck117UkVTRVR9IFJlbW92ZWQge05FT05fUElOS317ZGVhZF9jb3VudH17UkVTRVR9IGRlYWQgdG9rZW5zJykKICAgICAgICBwcmludChmJ3tORU9OX0dSRUVOfVsrXXtSRVNFVH0gUmVtYWluaW5nIHZhbGlkIHRva2Vuczoge05FT05fQ1lBTn17bGVuKHZhbGlkX3Rva2Vucyl9e1JFU0VUfScpCiAgICBlbHNlOgogICAgICAgIHdpdGggb3BlbihUT0tFTlNfRklMRSwgJ3cnKSBhcyBmaWxlOgogICAgICAgICAgICBmaWxlLndyaXRlKCcnKQogICAgICAgIHByaW50KGYne05FT05fQ1lBTn3ilZrilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZ17UkVTRVR9JykKICAgICAgICBwcmludChmJ3tORU9OX1BJTkt9WyFde1JFU0VUfSBBbGwgdG9rZW5zIGFyZSBkZWFkLiBGaWxlIGNsZWFyZWQuJykKICAgIAogICAgaW5wdXQoZid7TkVPTl9DWUFOfVsqXXtSRVNFVH0gUHJlc3MgRW50ZXIgdG8gY29udGludWUuLi57UkVTRVR9JykKCmRlZiByZXNldF9hbGxfZmlsZXMoKToKICAgICIiIlJlc2V0IGFuZCBjbGVhbiBhbGwgc3RvcmVkIGZpbGVzLiIiIgogICAgY2xlYXIoKQogICAgcHJpbnQoZiIiIntORU9OX1BJTkt9CuKVlOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVlwrilZEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilZEK4pWRICAgIOKWiOKWiOKWiOKWiOKWiOKWiOKVlyDilojilojilojilojilojilojilojilZfilojilojilojilojilojilojilojilZfilojilojilojilojilojilojilojilZfilojilojilojilojilojilojilojilojilZcgICAgICAgICAgICAgICAgICDilZEK4pWRICAgIOKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVl+KWiOKWiOKVlOKVkOKVkOKVkOKVkOKVneKWiOKWiOKVlOKVkOKVkOKVkOKVkOKVneKWiOKWiOKVlOKVkOKVkOKVkOKVkOKVneKVmuKVkOKVkOKWiOKWiOKVlOKVkOKVkOKVnSAgICAgICAgICAgICAgICAgIOKVkQrilZEgICAg4paI4paI4paI4paI4paI4paI4pWU4pWd4paI4paI4paI4paI4paI4pWXICDilojilojilojilojilojilojilojilZfilojilojilojilojilojilZcgICAgIOKWiOKWiOKVkSAgICAgICAgICAgICAgICAgICAgIOKVkQrilZEgICAg4paI4paI4pWU4pWQ4pWQ4paI4paI4pWX4paI4paI4pWU4pWQ4pWQ4pWdICDilZrilZDilZDilZDilZDilojilojilZHilojilojilZTilZDilZDilZ0gICAgIOKWiOKWiOKVkSAgICAgICAgICAgICAgICAgICAgIOKVkQrilZEgICAg4paI4paI4pWRICDilojilojilZHilojilojilojilojilojilojilojilZfilojilojilojilojilojilojilojilZHilojilojilojilojilojilojilojilZcgICDilojilojilZEgICAgICAgICAgICAgICAgICAgICDilZEK4pWRICAgIOKVmuKVkOKVnSAg4pWa4pWQ4pWd4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWd4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWd4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWdICAg4pWa4pWQ4pWdICAgICAgICAgICAgICAgICAgICAg4pWRCuKVkSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKVkQrilZEgICAgICAgICB7TkVPTl9DWUFOfVJlc2V0ICYgQ2xlYW4gQWxsIEZpbGVze05FT05fUElOS30gICAgICAgICDilZEK4pWRICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pWRCuKVmuKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVnQp7UkVTRVR9IiIiKQogICAgCiAgICBwcmludChmJ3tORU9OX0dSRUVOfVshXXtSRVNFVH0gVGhpcyB3aWxsIGRlbGV0ZSBhbGwgc3RvcmVkOicpCiAgICBwcmludChmJ3tORU9OX0dSRUVOfSAgICDigKIgVG9rZW5ze1JFU0VUfScpCiAgICBwcmludChmJ3tORU9OX0dSRUVOfSAgICDigKIgQ29va2llc3tSRVNFVH0nKQogICAgcHJpbnQoZid7TkVPTl9HUkVFTn0gICAg4oCiIEdlbmVyYXRlZCBDb2Rle1JFU0VUfScpCiAgICBwcmludCgpCiAgICBjb25maXJtID0gaW5wdXQoZid7TkVPTl9HUkVFTn3inqQgVHlwZSAiWUVTIiB0byBjb25maXJtOiB7UkVTRVR9Jykuc3RyaXAoKQogICAgCiAgICBpZiBjb25maXJtLnVwcGVyKCkgIT0gJ1lFUyc6CiAgICAgICAgcHJpbnQoZid7TkVPTl9HUkVFTn1b4pyTXXtSRVNFVH0gUmVzZXQgY2FuY2VsbGVkLicpCiAgICAgICAgaW5wdXQoZid7TkVPTl9DWUFOfVsqXXtSRVNFVH0gUHJlc3MgRW50ZXIgdG8gY29udGludWUuLi57UkVTRVR9JykKICAgICAgICByZXR1cm4KICAgIAogICAgdHJ5OgogICAgICAgICMgQ2xlYXIgdG9rZW5zIGZpbGUKICAgICAgICBpZiBvcy5wYXRoLmV4aXN0cyhUT0tFTlNfRklMRSk6CiAgICAgICAgICAgIG9wZW4oVE9LRU5TX0ZJTEUsICd3JykuY2xvc2UoKQogICAgICAgICAgICBwcmludChmJ3tORU9OX0dSRUVOfVvinJNde1JFU0VUfSBUb2tlbnMgZmlsZSBjbGVhcmVkJykKICAgICAgICAKICAgICAgICAjIENsZWFyIGNvb2tpZXMgZmlsZQogICAgICAgIGlmIG9zLnBhdGguZXhpc3RzKENPT0tJRVNfRklMRSk6CiAgICAgICAgICAgIG9wZW4oQ09PS0lFU19GSUxFLCAndycpLmNsb3NlKCkKICAgICAgICAgICAgcHJpbnQoZid7TkVPTl9HUkVFTn1b4pyTXXtSRVNFVH0gQ29va2llcyBmaWxlIGNsZWFyZWQnKQogICAgICAgIAogICAgICAgICMgQ2xlYXIgY29kZSBmaWxlCiAgICAgICAgaWYgb3MucGF0aC5leGlzdHMoQ09ERV9GSUxFKToKICAgICAgICAgICAgb3BlbihDT0RFX0ZJTEUsICd3JykuY2xvc2UoKQogICAgICAgICAgICBwcmludChmJ3tORU9OX0dSRUVOfVvinJNde1JFU0VUfSBDb2RlIGZpbGUgY2xlYXJlZCcpCiAgICAgICAgCiAgICAgICAgcHJpbnQoZid7TkVPTl9DWUFOfeKVlOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVl3tSRVNFVH0nKQogICAgICAgIHByaW50KGYne05FT05fR1JFRU59W+Kck117UkVTRVR9IEFsbCBmaWxlcyBoYXZlIGJlZW4gcmVzZXQgc3VjY2Vzc2Z1bGx5IScpCiAgICAgICAgcHJpbnQoZid7TkVPTl9DWUFOfeKVmuKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVnXtSRVNFVH0nKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHByaW50KGYne05FT05fUElOS31bIV17UkVTRVR9IEVycm9yIGR1cmluZyByZXNldDoge3N0cihlKVs6NTBdfScpCiAgICAKICAgIGlucHV0KGYne05FT05fQ1lBTn1bKl17UkVTRVR9IFByZXNzIEVudGVyIHRvIGNvbnRpbnVlLi4ue1JFU0VUfScpCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgaWYgZ2VuZXJhdGVfYW5kX2NoZWNrX2NvZGUoKToKICAgICAgICBzaGFyKCkKICAgIGVsc2U6CiAgICAgICAgYmFuKCk='))